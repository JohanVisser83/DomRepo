@model CircularWeb.Models.CommunityModel;
@{
    Layout = "_Layout";
}
<style>

    .ui-menu .ui-menu-item a {
        font-size: 12px;
    }

    .ui-autocomplete {
        z-index: 1051 !important;
        float: left;
        height: 230px;
        overflow-y: auto;
        border-radius: 6px 6px 11px 11px;
    }

    .ui-widget.ui-widget-content {
        border: none !important;
    }

    .ui-menu li.ui-menu-item .ui-menu-item-wrapper {
        border-radius: unset;
    }

    .ui-widget.ui-widget-content {
        box-shadow: none;
        background: #ffffff;
        color: #101C28;
        font-size: 14px;
        font-weight: 500;
    }

    .ui-menu .ui-menu-item {
        margin-bottom: 3px;
    }

    .linked-member {
        position: relative;
    }

        .linked-member li {
            list-style: none;
        }

    ul.linked-member li ol li:before {
        position: absolute;
        content: "\f0c6 ";
        font-family: 'FontAwesome';
        left: 12px;
        /* float: left; */
        /* width: 10px; */
        top: 0px;
    }
</style>



<div class="col-lg-11 col-md-11  col-sm-10 col-10">
    <div class="body-content">


        <div class="row">
            <div class="col-lg-2">
                <div class="sidebar mt-38">
                    <ul class="nav nav-tabs tab-data message-tab">
                        <li><p class="tab-text">Network</p></li>
                        <li><a data-toggle="tab" href="#Members" class="active">Members (@Model.Members.Count())</a></li>
                        <li><a data-toggle="tab" href="#Request">Request (@Model.requestlist.Count())</a></li>

                        <li><p class="tab-text">Community support</p></li>
                        <li><a data-toggle="tab" href="#BusinessIndex">Business index</a></li>
                        <li><a data-toggle="tab" href="#JobPostings">Job postings</a></li>
                        <li><a data-toggle="tab" href="#CommunityInformation" class="tab-text">Community information</a></li>
                        <li><a data-toggle="tab" href="#membersubs">Member Subscription</a></li>
                        <li><a data-toggle="tab" href="#SocialMedia">Social media links</a></li>
                        <li><a data-toggle="tab" href="#CustomGroups">Custom groups</a></li>
                        <li><a data-toggle="tab" href="#TeamProfiles">Team profiles</a></li>
                        <li><a data-toggle="modal" href="#AddTeamProfile">Add a team profile</a></li>
                        <li><p class="tab-text">FundHub</p></li>
                        <li><a data-toggle="tab" href="#ActiveFundraisers">Active fundraisers</a></li>
                        <li><a data-toggle="modal" href="#AddFundraiser">Add a new fundraiser</a></li>
                        <li><a data-toggle="tab" href="#ArchivedFundraisers">Archived fundraisers</a></li>
                    </ul>
                </div>


            </div>
            <div class="col-lg-10">

                <div class="tab-content">
                    <!-- @* =====Request=====*@ -->
                    <div id="Request" class="tab-pane fade new-event ">
                        <div class="safty-top-area">
                            <div class="row align-items-center">
                                <div class="col-md-4 ">
                                    <div class=" form-group search-bar-list px-3">
                                        <div class=" input-group diff">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <img src="~/images/Search-2.png" class="img-fluid">
                                                </span>
                                            </div>
                                            <input class="form-control search " type="text" placeholder="Search" id="SearchRequest">

                                        </div>

                                    </div>
                                </div>


                                <div class="ml-auto cross-icon text-right  cross-relative planner-cross">

                                    <button type="button" id="btnRequestClose" class="cross ml-3">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class=" border-bx-area border-0">
                            <div class="table-responsive">
                                <table id="requeststable" class="table main-content-bx">
                                    <thead>
                                        <tr>
                                            <th>Name <span class="ml-2"><img src="/images/Filter-1.png"></span></th>
                                            <th>Mobile number</th>
                                            <th>Email</th>
                                            <th>Requested Date</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody id="txtrequest">

                                        @foreach (var item in Model.requestlist)
                                        {
                                            <tr>
                                                <input type="hidden" id="txtupdateidstatus" value="@item.Id" />
                                                <td>@item.FirstName</td>
                                                <td>@item.Mobile</td>
                                                <td>@item.Email</td>
                                                <td>@item.RequestedDate.ToString("dd.MM.yyyy")</td>

                                                <td>
                                                    <button type="button" class="btn btn-pink active" onclick="ActiveDeclineBtn(@item.CustomerId)" id="txtrequestdeclinedbtn">
                                                        <img src="~/images/cross2.png">
                                                    </button>

                                                    <button type="button" class="btn btn-green active" onclick="ActiveApprovedBtn(@item.CustomerId)">
                                                        <img src="~/images/check.png">
                                                    </button>
                                                </td>

                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- @*==end===*@ -->
                    <!-- @* =====Members=====*@ -->
                    <div id="Members" class="tab-pane fade new-event active show ">
                        <div class="safty-top-area">
                            <div class="row align-items-center">
                                <div class="col-md-4 ">
                                    <div class=" form-group search-bar-list px-3">
                                        <div class=" input-group diff">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <img src="~/images/Search-2.png" class="img-fluid">
                                                </span>
                                            </div>
                                            <input class="form-control search " type="text" placeholder="Search" id="SearchMembers">

                                        </div>

                                    </div>
                                </div>


                                <div class="ml-auto cross-icon text-right  cross-relative planner-cross">
                                    <button type="button" class="btn btn-link "><span class="mr-2"><img src="~/images/Black-Download.png" onclick="exportCSVExcelMember()"></span>Export CSV</button>
                                    <button type="button" class="cross ml-3" id="membersCross">
                                        <span aria-hidden="true">×</span>
                                    </button>

                                </div>
                            </div>
                        </div>

                        <div class=" border-bx-area border-0">
                            <div class="table-responsive">
                                <table id="txtnetwork" class="table ">
                                    <thead>

                                        <tr>
                                            <th>Name<span class="ml-2"><img src="/images/Filter-1.png"></span> </th>
                                            <th>Mobile number</th>
                                            <th>Email</th>
                                            <th>DOB</th>
                                            @*  <th>House</th>
                                            <th>Teacher</th>*@
@*                                            <th>Subscription status <span class="ml-2"><img src="/images/Filter-1.png"></span></th>
*@                                          <th>IDNumber</th>
                                            <th>Linked members</th>
                                            <th>Linked mobile number</th>
                                            <th>Action</th>
                                            <th>Admin</th>
                                        </tr>
                                    </thead>
                                    <tbody id="txtMembers">
                                        @foreach (var item in Model.Members)
                                        {
                                            <tr>
                                                <input type="hidden" id="txtupdateidadmin"  editValue1="@item.CustomerId" />
                                                <td>@item.Name</td>
                                                <td>@item.Mobile</td>
                                                <td>@item.Email</td>
                                                <td>@item.DOB?.ToString("dd.MM.yyyy")</td>
                                                @*<td>@item.HouseName</td>
                                            <td>@item.StaffName</td>*@
                                             @*    <td>@item.SubscriptionStatus</td> *@
                                                <td>@item.IDNumber</td>
                                                <td>@item.LinkedMembers</td>
                                                <td>@item.LinkedMemberMobiles</td>
                                                 @*<td>
                                            <select class="form-control h-20 p-0 w-50 bg-transparent border-0" asp-items="@(new SelectList(Model.customerSubscriptionStatuses,"id","Name"))" onchange="commSelectType4(this,@item.CustomerId)">
                                            @if (item.SubscriptionStatusId == 0 || item.SubscriptionStatusId == null)
                                            {
                                            <option selected="selected">Select</option>

                                            }
                                            else
                                            {
                                            <option selected="@item.SubscriptionStatusId">@item.SubscriptionStatus</option>

                                            }
                                            </select>

                                            </td>*@
                                                 <td>
                                            @if (item.MembershipTypeId == 101)
                                            {
                                            <button type="button" class="btn btn-outline-danger btn-round" id="memberBlockBtn" editValue="@item.IsActive" editValue2="@item.CustomerId">Remove</button>
                                            }
                                            else
                                            {
                                                  <label>Paid</label>

@*                                            <button type="button" class="btn btn-outline-danger btn-round" id="memberUnblockBtn" editValue="@item.IsActive" editValue2="@item.CustomerId">Add</button>
*@                                            }
                                            </td>
                                                <td>

                                                    @* <input type="checkbox" onclick="checkedIsAdmin(this)" id="Checkbox" value="@item.CustomerId" @(item.IsAdmin == true ? "checked" : "") /> *@
                                                    <input type="checkbox"onclick="checkedIsAdmin(this, @item.CustomerId)"id="Checkbox_@item.CustomerId"value="@item.CustomerId" @(item.IsAdmin == true ? "checked" : "") />
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>


                    </div>
                    <!-- @*==end===*@ -->
                    <!-- @* =====Business index=====*@ -->
                    <div id="BusinessIndex" class="tab-pane fade new-event ">
                        <div class="safty-top-area">
                            <div class="row align-items-center">
                                <div class="col-md-4 ">
                                    <div class=" form-group search-bar-list px-3">
                                        <div class=" input-group diff">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <img src="~/images/Search-2.png" class="img-fluid">
                                                </span>
                                            </div>
                                            <input class="form-control search " type="text" placeholder="Search" id="SearchBusinessIndex">

                                        </div>

                                    </div>
                                </div>


                                <div class="ml-auto cross-icon text-right  cross-relative planner-cross">
                                    <button type="button" class="btn btn-link "><span class="mr-2"><img src="~/images/Black-Download.png" onclick="exportCSVExcelBusinessIndex()"></span>Export CSV</button>
                                    <button type="button" class="cross ml-3" id="businessCross">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class=" border-bx-area border-0">
                            <div class="table-responsive ">
                                <table id="Business-index" class="table main-content-bx ">
                                    <thead>
                                        <tr>
                                            <th>Business Name <span class="ml-2"><img src="/images/Filter-1.png"></span></th>
                                            @*<span class="ml-3 position-absolute" onclick="BindUpcoming()"><img src="~/images/Show.png"></span></td>*@
                                            <th>Mobile number</th>
                                            <th>Email address</th>
                                            <th>Website</th>
                                            <th>Hours</th>
                                            @*<th>Description</th>*@
                                            <th>Job postings</th>
                                            <th>Approve</th>
                                        </tr>
                                    </thead>
                                    <tbody id="txtBusinessIndex">
                                        @foreach (var item in Model.GetBusinessIndex)
                                        {
                                            <tr>
                                                @*<input type="hidden" id="txtids" value="@item.Id" />*@
                                                <td>@item.CompanyName <span class="ml-3 position-absolute" style="display:none">@item.Description</span><img src="~/images/Show.png" id="showdes"></td>
                                                <td>@item.ContactNumber</td>
                                                <td>@item.CompanyEmail</td>
                                                <td>@item.CompanyWebsite</td>
                                                <td>@item.Hours</td>
                                                @* <td>@item.Description</td>*@
                                                <td>@item.JobCount</td>
                                                <td>
                                                    @if (@item.IsBusinessapproved != true)
                                                    {
                                                        <button type="button" class="btn btn-pink active" onclick="uncheckedapproved('@item.Id')">
                                                            <img src="~/images/cross2.png">
                                                        </button>

                                                        <button type="button" class="btn btn-green active" onclick="checkedapproved('@item.Id')">
                                                            <img src="~/images/check.png">
                                                        </button>

                                                    }
                                                    else
                                                    {
                                                        <button type="button" class="btn btn-pink active" onclick="uncheckedapproved('@item.Id')">
                                                            <img src="~/images/cross2.png">
                                                        </button>
                                                    }
                                                </td>
                                                @*    <td>
                                            <div style="position:relative;">
                                            @if (@item.IsBusinessapproved == true)
                                            {

                                            <input type="checkbox" class="styled-checkbox green-checkbox" id="BusinessCheck" data-dismiss="modal" checked onclick="uncheckedapproved('@item.Id')">
                                            }
                                            else
                                            {

                                            <input type="checkbox" class="styled-checkbox green-checkbox" id="Noncheckbox" data-dismiss="modal" onclick="checkedapproved('@item.Id')">
                                            }
                                            <label for="styled-checkbox-1"></label>
                                            </div>
                                            </td>*@
                                            </tr>
                                        }

                                    </tbody>
                                </table>
                            </div>
                        </div>


                    </div>
                    <!--  @*==end===*@ -->
                    <!-- @* =====JobPostings index=====*@ -->
                    <div id="JobPostings" class="tab-pane fade new-event ">
                        <div class="safty-top-area">
                            <div class="row align-items-center">
                                <div class="col-md-4 ">
                                    <div class=" form-group search-bar-list px-3">
                                        <div class=" input-group diff">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <img src="~/images/Search-2.png" class="img-fluid">
                                                </span>
                                            </div>
                                            <input class="form-control search " type="text" placeholder="Search" id="SearchJobPosting">

                                        </div>

                                    </div>
                                </div>


                                <div class="ml-auto cross-icon text-right  cross-relative planner-cross">
                                    <button type="button" class="btn btn-link "><span class="mr-2"><img src="~/images/Black-Download.png" onclick="exportCSVExcelJobposting()"></span>Export CSV</button>
                                    <button type="button" class="cross ml-3" id="jobPostingCross">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class=" border-bx-area border-0">
                            <div class="table-responsive">
                                <table id="Job-postings" class="table main-content-bx">
                                    <thead>
                                        <tr>
                                            <th>Job post title <span class="ml-2"><img src="/images/Filter-1.png"></span></th>
                                            <th>Business name <span class="ml-2"><img src="/images/Filter-1.png"></span></th>
                                            <th>Contact name</th>
                                            <th>Mobile number</th>
                                            <th>Submissions <span class="ml-2"><img src="/images/Filter-1.png"></span></th>
                                            <th>Approve</th>
                                        </tr>
                                    </thead>

                                    <tbody id="txtJob">
                                        @foreach (var item in Model.JobPostingList)
                                        {
                                            <tr>
                                                @*  <td class="JOB_model">@item.Id</td> *@
                                                @if (@item != null)
                                                {
                                                    <td>@item.JobTitle</td>
                                                    <td>@item.CompanyName</td>
                                                    <td>@item.YourName</td>
                                                    <td>@item.ContactNumber</td>
                                                    <td>@item.ApplicantCount</td>

                                                    <td align="left">

                                                        @if (@item.IsApproved == false)
                                                        {
                                                            <button type="button" class="btn btn-pink active" onclick="jobuncheckedapproved('@item.Id')">
                                                                <img src="~/images/cross2.png">
                                                            </button>
                                                            <button type="button" class="btn btn-green active" onclick="jobcheckedapproved('@item.Id')">
                                                                <img src="~/images/check.png">
                                                            </button>

                                                        }
                                                        else
                                                        {
                                                            <button type="button" class="btn btn-pink active" onclick="jobuncheckedapproved('@item.Id')">
                                                                <img src="~/images/cross2.png">
                                                            </button>
                                                        }


                                                    </td>
                                                }

                                            </tr>

                                        }
                                    </tbody>


                                </table>
                            </div>
                        </div>


                    </div>
                    <!-- @*==end===*@ -->
                    <!-- @*  ====Community Information====*@ -->
                    <div id="CommunityInformation" class="tab-pane fade ">
                        <!-- For demo purpose-->


                        <div class="d-flex justify-content-between align-items-center">
                            <p class="mb-0"><span>Access Code</span>:<input type="text" id="access" readonly class="border-0"> </p>
                            <div class="d-flex align-items-center">
                                @*  <p><a href="http://www.circularapp.io/" class="" target="_blank">View</a></p>*@
                                <div class="cross-icon text-right d-block cross-relative planner-cross">

                                    <button type="button" class="cross" id="communityInfoCross">
                                        <span aria-hidden="true">×</span>
                                    </button>


                                </div>

                            </div>

                        </div>
                        <div class="p-6 border-bx-area">

                            <div class="row">


                                <div class="col-md-6">
                                    <div class="form-group ">
                                        <label>Community name</label>
                                        <input type="text" id="OrgName" class="form-control">
                                        <input type="hidden" id="CommunityInfoId" class="form-control" />
                                    </div>

                                    <div class="form-group ">
                                        <label>Physical address</label>
                                        <input type="text" id="Address" class="form-control">
                                    </div>
                                    <div class="form-group ">
                                        <label>About</label>
                                        <textarea class="form-control height-auto" id="About" rows="7" placeholder=""></textarea>
                                    </div>
                                    <div class="form-group ">
                                        <label>Operating hours</label>
                                        <input type="text" id="Hours" class="form-control">
                                    </div>

                                    <div class="form-group ">
                                        <label>Contact number</label>
                                        <input type="text" id="MobileNumber" class="form-control">
                                    </div>


                                </div>
                                <div class="col-md-6">
                                    <div class="form-group ">
                                        <label>Title </label>
                                        <input type="text" id="title" class="form-control">
                                    </div>
                                    <div class="form-group ">
                                        <label>Title name</label>
                                        <input type="text" id="titleName" class="form-control">
                                    </div>
                                    <div class="form-group ">
                                        <label>Website</label>
                                        <input type="text" id="website" class="form-control">
                                    </div>
                                    <div class="form-group">
                                        <label>Upload community logo </label>
                                        <div class=" add-icon-bx" id="uploadpdf3">
                                            <div class="form-control  pt-3" id="lblcommunity"></div>
                                            <div class="add-icon upload-icon">
                                                <input id="communityLogo" name="myfile" accept="image/*" onchange="CommuntiyInfoLogo(this);" type="file" class="form-control" />
                                                <img src="~/images/add-image-icon.png">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Upload community cover image</label>
                                        <div class=" add-icon-bx" id="uploadImage">
                                            <div class="form-control  pt-3" id="lblcommunityci"></div>
                                            <div class="add-icon upload-icon">
                                                <input id="communitycoverImg" name="myfile" accept="image/*" onchange="CommuntiyInfoImage(this);" type="file" class="form-control" />
                                                <img src="~/images/add-image-icon.png">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Upload Dashboard Banner</label>
                                        <div class=" add-icon-bx" id="uploadImage5">
                                            <div class="form-control  pt-3" id="lblbanner"></div>
                                            <div class="add-icon upload-icon">
                                                <input id="communitybannerImg" name="myfile" accept="image/*" onchange="CommuntiyInfobanner(this);" type="file" class="form-control" />
                                                <img src="~/images/add-image-icon.png">
                                            </div>
                                        </div>
                                    </div>


                                </div>



                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group ">
                                        <label>Email address</label>
                                        <input type="em" id="Email" class="form-control">
                                    </div>

                                </div>
                                <div class="col-md-6 mt-5">
                                    <div class="text-right">

                                        <button type="button" id="UpdateCommunity" class="btn btn-lumo-green">Update</button>
                                    </div>
                                </div>
                            </div>

                        </div>


                    </div>

                    <div id="membersubs" class="tab-pane fade ">
                        <!-- For demo purpose-->
                        <div class="cross-icon text-right d-block cross-relative planner-cross">

                            <button type="button" class="cross" id="communityInfoCross">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>

                        <div class="p-6 border-bx-area">

                            <div class="row">


                                <div class="col-md-6">

                                    <div class="form-group ">
                                        <label>Membership Type</label>
                                        @* <select class="form-control" id="membtype">
                                        </select>*@
                                        <input type="text" id="membtype" class="form-control" />
                                    </div>
                                    <div class="form-group ">
                                        <div class="row">
                                            <div class="col-md-7 ">
                                                <label>Community Discovery URL </label>
                                            </div>
                                            <div class="col-md-5 text-right ">
                                                <a id="commdiscoveryURL" target="_blank" style="font-size:12px">Click here to view</a>
                                            </div>
                                        </div>
                                        <div class="input-group doller-sign">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="commdisURL" style="font-size:12px">@Model.exploreURL</span>
                                            </div>
                                            <input type="text" id="commurl" class="form-control">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group ">
                                        <label>Price</label>
                                        <div class="input-group doller-sign">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">@Model.currencyModel.CurrencyCode</span>
                                            </div>
                                            <input type="text" class="form-control" id="pricemem">
                                        </div>

                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group ">
                                        <label>Access Type</label>
                                        <select class="form-control" id="Accesstype">
                                        </select>
                                    </div>
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-12 mt-5">
                                    <div class="text-right">
                                        <button type="button" id="Updatemember" class="btn btn-lumo-green">Update</button>
                                    </div>
                                </div>
                            </div>

                        </div>


                    </div>

                    <!-- @*====end===*@ -->
                    <!-- @*  ====Social Media====*@ -->
                    <div id="SocialMedia" class="tab-pane fade ">
                        <div class="col-lg-7">
                            <div class="cross-icon text-right d-block cross-relative planner-cross">

                                <button type="button" class="cross" id="smCross">
                                    <span aria-hidden="true">×</span>
                                </button>
                            </div>
                            <div class=" border-bx-area">
                                <div class="row">
                                    <div class="col-lg-12 p-6">
                                        <div class="form-group ">
                                            <label>Facebook</label>
                                            <input type="text" id="txtFacebook" class="form-control">
                                        </div>

                                        <div class="form-group ">
                                            <label>LinkedIn</label>
                                            <input type="text" id="txtLinkedIn" class="form-control">
                                        </div>
                                        <div class="form-group ">
                                            <label>Instagram</label>
                                            <input type="text" id="txtInstagram" class="form-control">
                                        </div>
                                        <div class="form-group ">
                                            <label>TikTok</label>
                                            <input type="text" id="txtTiktok" class="form-control">
                                        </div>
                                        <div class="form-group ">
                                            <label>Twitter</label>
                                            <input type="text" id="txtTwitter" class="form-control">
                                        </div>
                                        <div class="form-group ">
                                            <label>YouTube</label>
                                            <input type="text" id="txtYoutube" class="form-control">
                                        </div>

                                        <div class="text-right">

                                            <button type="button" id="SMUpdate" class="btn btn-lumo-green">Update</button>
                                        </div>
                                    </div>



                                </div>
                            </div>

                        </div>


                    </div>

                    <!-- @*====end===*@ -->
                    <!-- @* =====StaffProfiles index=====*@ -->
                    <div id="TeamProfiles" class="tab-pane fade new-event ">
                        <div class="safty-top-area">
                            <div class="row align-items-center">



                                <div class="ml-auto cross-icon text-right  cross-relative planner-cross">
                                    <button type="button" class="btn btn-link "><span class="mr-2"><img src="~/images/Black-Download.png" onclick="exportCSVExcelteamprofile()"></span>Export CSV</button>
                                    <button type="button" class="cross ml-3" id="staffProfileCross">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class=" border-bx-area border-0">
                            <div class="table-responsive ">
                                <table id="Team-Profiles" class="table ">
                                    <thead>
                                        <tr>
                                            <th>Name <span class="ml-2"><img src="/images/Filter-1.png"></span></th>
                                            <th>Position</th>
                                            <th>Email</th>
                                            <th>Phone</th>
                                            <th>Delete</th>

                                        </tr>
                                    </thead>
                                    <tbody id="UpdatedTeamProfile">
                                        @foreach (var item in Model.CommunityStaff)
                                        {
                                            <tr>
                                                <td><span class="text-over">@item.Name</span><span class="ml-3 position-absolute" onclick="BindUpcoming(@item.Id)" data-target="#edit-team-profile" data-toggle="modal"><img src="~/images/Edit-Square.png"></span></td>
                                                <td>@item.Position</td>
                                                <td>@item.Email</td>
                                                <td>@item.Contact</td>
                                                <td><span class=""><img onclick="deleteCommunityStaff(@item.Id);" src="~/images/Delete2.png" /></span></td>
                                                @* <td><span class=""><img onclick="deleteCommunityStaff(@item.Id);" src="~/images/Delete2.png"></span></td>
                                            </tr> *@
                                            </tr>
                                        }

                                    </tbody>
                                </table>
                            </div>
                        </div>


                    </div>
                    <!--    @*==end===*@ -->
                    <!-- @* =====Custom Groups =====*@ -->
                    <div id="CustomGroups" class="tab-pane fade new-event ">
                        <div class="safty-top-area">
                            <div class="row align-items-center">



                                <div class="ml-auto cross-icon text-right  cross-relative planner-cross">

                                    <button type="button" class="cross ml-3" id="customGroupsCross">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="row custom-group-area">
                            <!--  @* ====col-4====*@ -->
                            <div class="col-lg-4 left-group">
                                <div class="">
                                    <div class="table-responsive">
                                        <table id="custom-groups-name" class="table ">
                                            <thead>
                                                <tr>
                                                    <th><span class="text-nowrap">Custom group name</span> <span class="ml-2 position-absolute"><img src="~/images/Filter-1.png"></span></th>
                                                    <th></th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td><a id='101' onclick="ShowCustomGroup(101);">All students</a></td>
                                                    <td><a><img src="~/images/Delete2.png"></a></td>


                                                </tr>
                                                <tr>
                                                    <td><a id='102' onclick="ShowCustomGroup(102);">All parents</a></td>
                                                    <td><span><img src="~/images/Delete2.png"></span></td>
                                                </tr>
                                                <tr>
                                                    <td><a id='103' onclick="ShowCustomGroup(103);">All alumni</a></td>
                                                    <td><span><img src="~/images/Delete2.png"></span></td>

                                                </tr>

                                                @foreach (var item in Model.GetCustomGroups)
                                                {
                                                    <tr>
                                                        <td><a editvalue="@item.Id" id="Group2_@item.Id" class="lblgrpname" onclick="ShowCustomGroup2(@item.Id)">@item.GroupName</a></td>
                                                        <td><a><img onclick="dltcustomgroup(@item.Id)" src="~/images/Delete2.png"></a></td>


                                                    </tr>
                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                    <button type="button" class="btn btn-block btn-link btn-lumo " data-toggle="modal" data-target="#AddCustomgroup"><span class="mr-2"><img src="~/images/Add-Circle.png"></span>Add a new custom group</button>
                                </div>
                            </div>

                            <!-- @* ====col-8===*@ -->
                            <div class="col-lg-8">
                                <div class=row>
                                    <div class="col-lg-7 pr-1">
                                        <div class=" form-group search-bar-list ">
                                            <div class=" input-group diff">
                                                @*  <input class="form-control search px-3" type="text" placeholder="Search for a user" id="membername"> *@
                                                <input type="hidden" id="Number" value="" />
                                                <input class="form-control search px-3" type="text" placeholder="Search name or mobile number" id="membername">
                                            </div>
                                            <div class="search-list">
                                                <ul id="memeberList" class="linked-member">

                                                    <li class="test"></li>

                                                    @*  <li>

                                                    <ol>
                                                    <li>bert nel</li>
                                                    <li>rosemarie nel</li>
                                                    </ol>
                                                    </li>
                                                    <li>
                                                    <a href="">dominick bellend</a>
                                                    <ol>
                                                    <li>garrett sacks</li>

                                                    </ol>
                                                    </li>
                                                    <li>
                                                    <a href="">dominique jones</a>
                                                    <ol>
                                                    <li>brendon brentwood</li>
                                                    <li>sarah brentwood</li>
                                                    </ol>
                                                    </li> *@
                                                </ul>
                                                @* <ul class="linked-member mmm" ></ul> *@
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-5">
                                        <button type="button" class="btn btn-lumo-green py-13 btn-block border-rad-15" id="AddUserGrp"><span class="mr-2"><img src="~/images/Add-Circle.png"></span>Add a user</button>
                                    </div>
                                </div>
                                <div class="">
                                    <div class="table-responsive">
                                        <table id="custom-groups" class="table ">
                                            <thead>
                                                <tr>
                                                    <th id="userCount"><span class="text-nowrap">Member name (0 Members)</span><span class="ml-2 position-absolute"><img src="~/images/Filter-1.png"></span></th>
                                                    <th>Mobile number</th>
                                                    <th>Delete</th>

                                                </tr>
                                            </thead>
                                            <tbody class="lstCustomGroup">
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <!-- @* ====end=====*@ -->
                            <!--    @*=====end====*@ -->
                            <!-- pollSuccessfull Modal -->
                            <div class="modal fade modal-small-bx" id="deleteSuccessfull" tabindex="-1" aria-labelledby="LeavePastLabel" aria-hidden="true">
                                <div class="modal-dialog modal-sm modal-dialog-centered">
                                    <div class="modal-content">
                                        <div class="modal-body text-center">
                                            <div class="past-leave-box">
                                                <h5>Are you sure?</h5>
                                                <p>You are about to delete this group forever :(</p>
                                            </div>
                                            <div class="text-center">
                                                <button type="button" class="btn bg-pink" id="deltCustomGrpNo" data-dismiss="modal">No</button>
                                                <button type="button" class="btn bg-lumo" id="deltCustomGrpYes">Yes</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- ======End====== -->
                            <!--====Message===-->
                            <div class="modal fade modal-small-bx" id="CustomItems-Added" tabindex="-1" aria-labelledby="LeavePastLabel" aria-hidden="true">
                                <div class="modal-dialog modal-sm modal-dialog-centered">
                                    <div class="modal-content">

                                        <div class="modal-body text-center">
                                            <div class="past-leave-box">
                                                <h5 id="customDltItem"></h5>
                                                @*  <p>Your item is now LIVE in your community</p>*@
                                                <p id="customMessages"></p>
                                            </div>
                                            <div class="text-center">

                                                <button type="button" class="btn btn-default btn-block" data-dismiss="modal">Close</button>

                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                            <!--===END===-->
                            <!-- @*=======item deletion confirmation=====*@ -->

                            <div class="modal fade modal-small-bx" id="CustomHyperNotPresent" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
                                <div class="modal-dialog modal-sm modal-dialog-centered">
                                    <div class="modal-content">

                                        <div class="modal-body text-center">
                                            <div class="past-leave-box">
                                                <h5>We’re sorry!</h5>
                                                <p>You will need to use the form hyperlink provide by your Circular CSM. Please contact them for more details.</p>
                                            </div>
                                            <div class="text-center">

                                                <button type="button" class="btn btn-pink ">Close</button>

                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                            <!-- @*========END======*@ -->

                        </div>




                    </div>
                    <!-- @*==end===*@ -->
                    <!-- @* =====Custom Groups =====*@ -->
                    <div id="TeamSetup" class="tab-pane fade new-event ">
                        <div class="safty-top-area">
                            <div class="row align-items-center">



                                <div class="ml-auto cross-icon text-right  cross-relative planner-cross">
                                    <button type="button" class="btn btn-link "><span class="mr-2"><img src="~/images/Black-Download.png"></span>Export CSV</button>
                                    <button type="button" class="cross ml-3">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="row custom-group-area">
                            <!--  @* ====col-4====*@ -->
                            <div class="col-lg-4 left-group">
                                <div class="form-group">
                                    <label>Select an activity</label>
                                    <select class="form-control">
                                        <option selected></option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>

                                </div>
                                <div class=" border-bx-area ">
                                    <div class="table-responsive border-0">
                                        <table id="Team-Setup" class="table ">
                                            <thead>
                                                <tr>
                                                    <th>Teams</th>
                                                    <th></th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>1st Team XV</td>

                                                    <td>
                                                        <span class="mr-2"><img src="~/images/Information-Circle.png"></span>
                                                        <span class=""><img src="~/images/Delete2.png"></span>
                                                    </td>


                                                </tr>
                                                <tr>
                                                    <td>2nd Team XV</td>

                                                    <td>
                                                        <span class="mr-2"><img src="~/images/Information-Circle.png"></span>
                                                        <span class=""><img src="~/images/Delete2.png"></span>
                                                    </td>

                                                </tr>
                                                <tr>
                                                    <td>3rd Team XV</td>

                                                    <td>
                                                        <span class="mr-2"><img src="~/images/Information-Circle.png"></span>
                                                        <span class=""><img src="~/images/Delete2.png"></span>
                                                    </td>

                                                </tr>
                                                <tr>
                                                    <td>16A Team</td>

                                                    <td>
                                                        <span class="mr-2"><img src="~/images/Information-Circle.png"></span>
                                                        <span class=""><img src="~/images/Delete2.png"></span>
                                                    </td>

                                                </tr>

                                            </tbody>
                                        </table>
                                    </div>
                                    <button type="button" class="btn btn-block btn-link btn-lumo mt-4"><span class="mr-2"><img src="~/images/Add-Circle.png"></span>Add a new team</button>
                                </div>
                            </div>
                            <!--    @*=====end====*@ -->
                            <!-- @* ====col-8===*@ -->
                            <div class="col-lg-8 left-group">

                                <div class=" border-bx-area position-relative ">
                                    <div class="table-responsive h-100vh overflow-auto">
                                        <table id="name-position" class="table ">
                                            <thead>
                                                <tr>
                                                    <th>Number</th>
                                                    <th>Name</th>
                                                    <th>Position</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>1</td>
                                                    <td>Johnny Wilkinson</td>

                                                    <td>Tight head prop</td>

                                                </tr>
                                                <tr>
                                                    <td>2</td>
                                                    <td>Stephen Fry</td>

                                                    <td>Hooker</td>

                                                </tr>
                                                <tr>
                                                    <td>3</td>
                                                    <td>Bradley Johnson</td>

                                                    <td>Loose head prop</td>

                                                </tr>
                                                <tr>
                                                    <td>4</td>
                                                    <td>Brent Fuller</td>

                                                    <td>Lock</td>
                                                </tr>
                                                <tr>
                                                    <td>5</td>
                                                    <td>Marco Bishop</td>

                                                    <td>Lock</td>

                                                </tr>


                                            </tbody>
                                        </table>
                                    </div>
                                    <button type="button" class="btn btn-block btn-link btn-bottom-gray mt-4"><span class="mr-2"><img src="~/images/Add-Circle.png"></span>Add a team member</button>
                                </div>
                            </div>
                            <!-- @* ====end=====*@ -->
                        </div>




                    </div>
                    <!-- @*==end===*@ -->
                    <!-- @* =====Active Fundraisers index=====*@ -->
                    <div id="ActiveFundraisers" class="tab-pane fade new-event ">
                        <div class="safty-top-area">
                            <div class="row align-items-center">



                                <div class="ml-auto cross-icon text-right  cross-relative planner-cross">
                                    <button type="button" class="btn btn-link "><span class="mr-2"><img src="~/images/Black-Download.png" onclick="exportCSVExcelActiveFundraisers()"></span>Export CSV</button>
                                    <button type="button" class="cross ml-3" id="ActiveCross">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-12">
                            <div class=" border-bx-area border-0">
                                <div class="table-responsive ">
                                    <table id="Active-Fundraisers" class="table ">
                                        <thead>
                                            <tr>
                                                <th style="display:none">Id</th>
                                                <th class="text-left">Name <span class="ml-2"><img src="/images/Filter-1.png"></span></th>
                                                <th>Type of fundraiser</th>
                                                <th>Amount collected <span class="ml-2"><img src="/images/Filter-1.png"></span></th>
                                                <th>View Payments</th>
                                                <th>Archive</th>


                                            </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>


                    </div>
                    <!--    @*==end===*@ -->
                    <!-- @* =====Archived Fundraisers index=====*@ -->
                    <div id="ArchivedFundraisers" class="tab-pane fade new-event ">
                        <div class="safty-top-area">
                            <div class="row align-items-center">



                                <div class="ml-auto cross-icon text-right  cross-relative planner-cross">
                                    <button type="button" class="btn btn-link "><span class="mr-2"><img src="~/images/Black-Download.png" onclick="exportCSVExcelArchivedFundraisers()"></span>Export CSV</button>
                                    <button type="button" class="cross ml-3" id="Archivecross">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-12">
                            <div class=" border-bx-area border-0">
                                <div class="table-responsive">
                                    <table id="Archived-Fundraisers" class="table ">
                                        <thead>
                                            <tr>
                                                <th style="display:none">Id</th>
                                                <th class="text-left">Name <span class="ml-2"><img src="/images/Filter-1.png"></span></th>
                                                <th>Type of fundraiser  <span class="ml-2"><img src="/images/Filter-1.png"></span></th>
                                                <th>Amount collected  <span class="ml-2"><img src="/images/Filter-1.png"></span></th>
                                                <th>View Payments</th>
                                                <th>Delete</th>

                                            </tr>
                                        </thead>
                                        <tbody>
                                            @*
                                            <tr>
                                            <td>{set amount} campaign<span class="ml-3"><img src="~/images/Show.png"></span></td>
                                            <td>Set amount</td>
                                            <td>R1,250,000.00</td>
                                            <td>Click to view</td>
                                            <td><span class=""><img src="~/images/Delete2.png"></span></td>
                                            </tr>*@

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>


                    </div>
                    <!--@*==end===*@--->
                </div>



            </div>
        </div>
    </div>
</div>



<!-- @*======Add Staff Profile====*@ -->
<div class="modal fade modal-add-bx" id="AddTeamProfile" tabindex="-1" aria-labelledby="AddVehicleLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable w-500 modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title ">Add a Team profile</h5>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    &times;
                </button>

            </div>
            <div class="modal-body">
                <div class="new-message">


                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Full name</label>
                            <input type="text" id="name" class="form-control " onkeyup="validateName()">
                            <span id="nameError" style="color: red;"></span>

                        </div>
                        <div class="form-group">
                            <label>Position</label>
                            <input type="text" id="position" class="form-control " onkeyup="validatePosition()">
                            <span id="positionError" style="color: red;"></span>


                        </div>
                        <div class="form-group">
                            <label>Email address</label>
                            <input type="text" id="email" class="form-control" onkeyup="validateEmail()">
                            <span id="emailError" style="color: red;"></span>

                        </div>
                        <div class="form-group">
                            <label>Phone<small><i>(This number will be available to your community)</i></small></label>
                            <input type="text" id="phone" class="form-control" maxlength="15" onkeyup="validatePhone()">
                            <span id="phoneError" style="color: red;"></span>

                        </div>
                        <div class="form-group">
                            <label>Profile image</label>
                            <div class=" add-icon-bx" id="uploadpdf3">
                                @*  <label for="profileimage" class="custom-file-upload nameimage" id="lblstaffimg">
                                </label> *@
                                <input type="text" id="lblstaffimg" class="form-control">    @*  latest *@
                                <div class="add-icon upload-icon">
                                    <input id="profileimage" name="myfile" accept="image/*" onchange="StaffImagereadURL(this);" type="file" class="form-control" />
                                    <img src="~/images/add-image-icon.png" alt="image">
                                </div>
                            </div>
                        </div>


                        <div class="form-group">
                            <label>About</label>
                            <textarea class="form-control height-auto bg-gray border-gray" id="about" rows="4" placeholder=""></textarea>

                        </div>

                    </div>
                    <div class="col-md-12 text-right">

                        <button type="button" id="AddProfile" class="btn btn-lumo-green">Add a new team profile</button>
                    </div>



                </div>

            </div>

        </div>

    </div>
</div>
<!-- @*===end====*@ -->
<!-- @*======edit Staff Profile====*@ -->
<div class="modal fade modal-add-bx" id="edit-team-profile" tabindex="-1" aria-labelledby="AddVehicleLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable w-500 modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title ">Edit a team profile</h5>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    &times;
                </button>

            </div>
            <div class="modal-body">
                <div class="new-message">


                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" class="form-control " id="stfName" value="">

                        </div>
                        <div class="form-group">
                            <label>Position</label>
                            <input type="text" class="form-control " id="stfPosition" value="">

                        </div>
                        <div class="form-group">
                            <label>Email address</label>
                            <input type="text" id="stfEmail" class="form-control" value="" onkeyup="validateStaffEmail()">
                            <span id="emailStaffError" style="color: red;"></span>

                        </div>
                        <div class="form-group">
                            <label>Phone</label>
                            <input type="text" id="stfPhone" class="form-control" value="" maxlength="15" onkeyup="validateStaffPhone()">
                            <span id="phoneStaffError" style="color: red;"></span>

                        </div>
                        <div class="form-group">
                            <label>Profile image</label>
                            <div class=" add-icon-bx">
                                <div class="form-control  pt-3" id="lblStfImg"></div>
                                <div class="add-icon">
                                    <input type="file" id="txtImg" name="myfile" accept="image/*" onchange="UpdateStaffImagereadURL(this);" class="form-control">
                                    <img src="~/images/add-image-icon.png">
                                </div>
                            </div>

                        </div>


                        <div class="form-group">
                            <label>About</label>
                            <textarea class="form-control height-auto bg-gray border-gray" id="stfAbout" rows="4"></textarea>

                        </div>

                    </div>
                    <div class="col-md-12 text-right">

                        <button type="button" class="btn btn-lumo-green" id="stfUpdate">Update</button>
                    </div>



                </div>

            </div>

        </div>

    </div>
</div>
<!-- @*===end====*@ -->
<!-- @*======Custom Group Name====*@ -->
<div class="modal fade modal-add-bx" id="AddCustomgroup" tabindex="-1" aria-labelledby="AddCustomgroupLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable w-500 modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title ">Custom group title</h5>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    &times;
                </button>

            </div>
            <div class="modal-body">
                <div class="new-message">


                    <div class="col-md-12">
                        <div class="form-group">

                            <input type="text" class="form-control " id="newGroup" placeholder="What would you like to call this group?">

                        </div>


                    </div>
                    <div class="col-md-12 text-right">

                        <button type="button" id="NewCustomerGroup" class="btn btn-lumo-green">Add a new custom group</button>
                    </div>



                </div>

            </div>

        </div>

    </div>
</div>
<!-- @*===end====*@ -->
<!-- @*======Add New Team====*@ -->
<div class="modal fade modal-add-bx" id="AddNewTeam" tabindex="-1" aria-labelledby="AddCustomgroupLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable w-500 modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title ">Add a new team</h5>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    &times;
                </button>

            </div>
            <div class="modal-body">
                <div class="new-message">


                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Team name</label>
                            <input type="text" class="form-control ">

                        </div>
                        <div class="form-group">
                            <label>Coach name</label>
                            <input type="text" class="form-control ">

                        </div>
                        <div class="form-group">
                            <label>Group title (i.e Team, Squad)</label>
                            <input type="text" class="form-control ">

                        </div>

                    </div>
                    <div class="col-md-12 text-right">

                        <button type="button" class="btn btn-lumo-green">Add team</button>
                    </div>
                </div>

            </div>

        </div>

    </div>
</div>
<!-- @*===end====*@ -->
<!-- @*======Add New Team Member====*@ -->
<div class="modal fade modal-add-bx" id="NewTeamMember" tabindex="-1" aria-labelledby="AddCustomgroupLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable w-500 modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title ">Add a new team member</h5>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    &times;
                </button>

            </div>
            <div class="modal-body">
                <div class="new-message">


                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Search a member</label>
                            <input type="text" class="form-control ">

                        </div>
                        <div class="form-group">
                            <label>Number</label>
                            <input type="text" class="form-control ">

                        </div>
                        <div class="form-group">
                            <label>Position</label>
                            <input type="text" class="form-control ">

                        </div>

                    </div>
                    <div class="col-md-12 ">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="form-group form-check">
                                <div class="">
                                    <input type="checkbox" class="styled-checkbox ">
                                    <label for="styled-checkbox-1"></label>
                                    <label class="form-check-label " for="exampleCheck1">Mark as Captain</label>
                                </div>

                            </div>
                            <button type="button" class="btn btn-lumo-green">Add team member</button>
                        </div>
                    </div>


                </div>

            </div>

        </div>

    </div>
</div>
<!-- @*===end====*@ -->
<!-- @*======edit Staff Profile====*@ -->
<div class="modal fade modal-add-bx" id="AddFundraiser" tabindex="-1" aria-labelledby="AddVehicleLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable w-500 modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title ">Post a new campaign</h5>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    &times;
                </button>

            </div>
            <div class="modal-body">
                <div class="new-message">


                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Select a type of fundraiser</label>

                            <select class="form-control" asp-items="@(new SelectList(Model.lsttypeoffundraiser,"Id","Name"))" id="selectedfundrasier" onchange="Getselectedfundrasier()">
                                <option value="0">Select</option>
                            </select>

                        </div>
                    </div>
                    <div class="col-md-12 text-right">
                        <button type="button" class="btn btn-lumo-green" data-toggle="modal" id="btnnetpost">Next</button>
                    </div>



                </div>

            </div>

        </div>

    </div>
</div>
<!-- @*===end====*@ -->
<!-- @*=======item deletion confirmation=====*@ -->

<div class="modal fade modal-small-bx" id="delete-confimation" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <h5>Are you sure?</h5>
                    <p>You are about to delete this profile forever :(</p>
                </div>
                <div class="text-center">
                    <button type="button" id="btnNo" class="btn bg-pink" data-dismiss="modal">No</button>
                    <button type="button" id="btnYes" class="btn bg-lumo">Yes</button>



                </div>

            </div>

        </div>
    </div>
</div>
<!-- @*========END======*@ -->
<!-- @*=======item deletion confirmation=====*@ -->

<div class="modal fade modal-small-bx" id="HyperNotPresent1" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <h5>We’re sorry!</h5>
                    <p>You will need to use the form hyperlink provide by your Circular CSM. Please contact them for more details.</p>
                </div>
                <div class="text-center">

                    <button type="button" class="btn btn-default ">Close</button>

                </div>

            </div>

        </div>
    </div>
</div>
<!-- @*========END======*@ -->
<!-- @*=======item deletion confirmation=====*@ -->

<div class="modal fade modal-small-bx" id="HyperNotPresent" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <h5 id="itemaddheader"></h5>
                    @*<p>Your campaign has been updated successfully</p>*@
                    <p id="message"></p>
                </div>
                <div class="text-center">

                    <button type="button" class="btn btn-pink" data-dismiss="modal">Close</button>

                </div>

            </div>

        </div>
    </div>
</div>
<!-- @*========END======*@ -->
<!-- @*=======item deletion confirmation=====*@ -->

<div class="modal fade modal-small-bx" id="HyperNotPresentSM" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <h5 id="itemaddheaderSM"></h5>
                    @* <p>Your campaign has been updated successfully</p>*@
                    <p id="messageSM"></p>
                </div>
                <div class="text-center">

                    <button type="button" class="btn btn-default " data-dismiss="modal">Close</button>

                </div>

            </div>

        </div>
    </div>
</div>
<!-- @*========END======*@ -->
<!-- @*=======item deletion confirmation=====*@ -->

<div class="modal fade modal-small-bx" id="deleteUserConfirmation" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <h5 id="userDeleteMessage"></h5>
                    @* <p>Your campaign has been updated successfully</p>*@
                    <p id="usermessage"></p>
                </div>
                <div class="text-center">

                    <button type="button" class="btn btn-default " data-dismiss="modal">close</button>

                </div>

            </div>

        </div>
    </div>
</div>
<!-- @*========END======*@ -->
<!-- @*======Post New Campaign====*@ -->
<div class="modal fade modal-add-bx" id="PostNewCampaign" tabindex="-1" aria-labelledby="AddVehicleLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable w-500 modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title ">Post a new campaign</h5>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    &times;
                </button>

            </div>
            <div class="modal-body">
                <div class="new-message">


                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Fundraiser title</label>
                            <input type="text" class="form-control" id="txtcompaigntitle">

                        </div>

                        <div class="form-group">
                            <label>Who is the contact person for this campaign?</label>
                            <select class="form-control" asp-items="@(new SelectList(Model.Organizers,"CustomerId","Name"))" id="txtcompaignperson">
                                <option value="0">Select</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Product amount</label>
                            <div class="position-relative">
                                <input type="text" class="form-control" id="txtComapignamount" value="" />
                                <span class="doller-sign">@Model.currencyModel.CurrencyCode</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Expiry date for accepting funds</label>
                            <div class="form-group ">
                                <div class="date-icon">
                                    <input type="text" id="datefrom1" class="form-control btn-date" />

                                </div>
                            </div>

                        </div>


                        <div class="form-group">
                            <label>Add a PDF document</label>
                            <div class="form-group  add-icon-bx" id="logo-uploadAccount">
                                <label for="pdfcommunity" class="custom-file-upload nameimage" id="uploadSec3">
                                    <span id="txtspanidvalue"></span>
                                </label>
                                <div class="add-icon upload-icon">
                                    <input id="pdfcommunity" type="file" accept=".pdf,.doc" onchange="ProductreadURLS1(this);" class="form-control" />
                                    <img src="~/images/Document-add.png">
                                </div>
                            </div>
                        </div>







                        <div class="form-group">
                            <label>Add your product images</label>
                            <div class=" add-icon-bx">
                                <input type="text" id="txtProductImage" class="form-control" disabled>
                                <div class="add-icon">
                                    <input type="file" name="myfile" id="ProductImage" accept="image/*" onchange="ProductreadURL(this);" class="form-control" />
                                    <img src="~/images/add-image-icon.png">
                                </div>
                            </div>

                        </div>

                        <div class="addimg-area mt-3" id="deleteimageidoffund">
                            <div class="cross-icon image-icon pl-1 pt-0">
                                <ul id="Multipleimageid"></ul>
                            </div>
                            <p id="txtmulimages"></p>
                        </div>



                        <div class="form-group">
                            <label>Description</label>
                            <textarea class="form-control height-auto bg-gray border-gray" rows="4" placeholder="" id="txtComapigndescription"></textarea>

                        </div>
                        <div class="form-group">
                            <label>Add form hyperlink</label>
                            <input type="text" class="form-control " id="txtComapignhyperlink" onkeyup="validateHyperlink()">
                            <span id="hyperlinkError" style="color: red;"></span>


                        </div>
                    </div>

                    <div class="col-md-12 text-right">
                        <button type="button" class="btn btn-lumo-green" id="BtnPostCompaign">Post campaign</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- @*===end====*@ -->
<!-- @*======Post New Campaign====*@ -->
<div class="modal fade modal-add-bx" id="postamountfundraiser" tabindex="-1" aria-labelledby="AddVehicleLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable w-500 modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title ">Post a new campaign</h5>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    &times;
                </button>

            </div>
            <div class="modal-body">

                <div class="new-message">


                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Fundraiser title</label>
                            <input type="text" class="form-control" id="ddlammountfundtitle">
                        </div>

                        <div class="form-group">
                            <label>Who is the contact person for this campaign?</label>
                            <select class="form-control" asp-items="@(new SelectList(Model.Organizers,"CustomerId","Name"))" id="ddlamountfundperson">
                                <option value="0">Select</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>What is your total goal amount?</label>
                            <div class="position-relative">
                                <input type="text" class="form-control" id="ddlamountgoal" value="" />
                                <span class="doller-sign">@Model.currencyModel.CurrencyCode</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Add a PDF document</label>
                            <div class="form-group  add-icon-bx" id="logo-uploadAccount">
                                <label for="pdfamountgaol" class="custom-file-upload nameimage" id="amountddl">
                                    <span id="textspanfield"></span>
                                </label>
                                <div class="add-icon upload-icon">
                                    <input id="pdfamountgaol" type="file" accept=".pdf,.doc" onchange="ProductAmountGoal(this)" />
                                    <img src="~/images/Document-add.png">
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Add your product images</label>
                            <div class=" add-icon-bx">
                                <input type="text" id="ddlamountimage" class="form-control" disabled>
                                <div class="add-icon">
                                    <input type="file" name="myfile" id="productamountimage" accept="image/*" onchange="producturlimage(this);" class="form-control">
                                    <img src="~/images/add-image-icon.png">
                                </div>
                            </div>

                        </div>

                        <div class="addimg-area mt-3" id="SetAmountdeleteimageidoffund">
                            <div class="cross-icon image-icon pl-1 pt-0">
                                <ul id="SetAmountMultipleimageid"></ul>
                            </div>
                            <p id="SetAmountttxtmulimages"></p>
                        </div>

                        <div class="form-group">
                            <label>Expiry date for accepting funds</label>
                            <div class="form-group ">
                                <div class="date-icon">
                                    <input type="text" id="Expiredatesetamount" class="form-control btn-date" />

                                </div>
                            </div>

                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea class="form-control height-auto bg-gray border-gray" rows="4" placeholder="" id="ddlamountdescription"></textarea>
                        </div>

                    </div>

                    <div class="col-md-12 text-right">
                        <button type="button" class="btn btn-lumo-green" id="txtfinalsetgoalpost">Post campaign</button>
                    </div>

                </div>

            </div>

        </div>

    </div>
</div>
<!-- @*===end====*@ -->
<!-- @*=====modal popup campaign_successfull ==*@ -->
<div class="modal fade modal-small-bx" id="campaign_successfull" tabindex="-1" aria-labelledby="LeavePastLabel" aria-hidden="true">
    <div class="modal-dialog w-430px modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <h5>Your campaign is LIVE!</h5>
                    <p>Your campaign has been added successfully</p>
                </div>
                <div class="text-center">

                    <button type="button" class="btn btn-default ">Close</button>

                </div>

            </div>

        </div>
    </div>
</div>
<!-- @*=====end======*@ -->
<!-- @*======Edit Campaign====*@ -->
<div class="modal fade modal-add-bx " id="EditCampaign" tabindex="-1" aria-labelledby="AddVehicleLabel" aria-hidden="true">
    <div class="modal-dialog  modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title ">Edit your campaign</h5>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    &times;
                </button>

            </div>
            <div class="modal-body">
                <div class="new-message">
                    <div class="row">

                        <div class="col-lg-6">

                            <div class="form-group">
                                <label>Fundraiser title</label>
                                <div class=" add-icon-bx">
                                    <input type="hidden" id="updateId" value="" />
                                    <input class="form-control " value="Chilloes Slops" id="txttitle">
                                    <div class="add-icon edit-icon">
                                        <input type="text" name="myfile" class="form-control">
                                        <img src="~/images/edit.png">
                                    </div>
                                </div>

                            </div>
                            <div class="form-group" id="expiredateidforset">
                                <label>Expiry date for accepting funds</label>
                                <div class="form-group ">
                                    <div class="date-icon">
                                        <input type="text" id="datefrom" class="form-control btn-date">

                                    </div>
                                </div>

                            </div>


                            <div class="form-group">
                                <label>Add a PDF document</label>
                                <div class="form-group  add-icon-bx" id="logo-uploadAccount">
                                    <label for="txtpdfsdoc" class="custom-file-upload nameimage" id="txtPdf">
                                        <span id="pdfnameddl"></span>
                                    </label>
                                    <div class="add-icon upload-icon">
                                        <input id="txtpdfsdoc" type="file" accept=".pdf,.doc" onchange="PDFURLS1(this)" />
                                        <img src="~/images/Document-add.png">
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Description<span class="ml-2"><img src="~/images/edit.png"></span></label>
                                <textarea class="form-control height-auto bg-gray border-gray" rows="4" placeholder="" type="text" class="form-control " value="description" id="txtdescription">
                                 </textarea>

                            </div>
                            <div class="form-group" id="hyperlinkforset">
                                <label>Add form hyperlink</label>
                                <div class=" add-icon-bx">
                                    <input class="form-control " value="hyperlink" id="txthyperlink" />
                                    <div class="add-icon edit-icon">
                                        <input type="text" name="myfile" class="form-control">
                                        <img src="~/images/edit.png">
                                    </div>
                                </div>

                            </div>

                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Who is the contact person for this campaign?</label>
                                <select class="form-control" id="contactperson" asp-items="@(new SelectList(Model.Organizers,"CustomerId","Name"))">
                                    @*<option value="0">Select</option>*@
                                    <img src="~/images/edit.png">
                                </select>

                            </div>
                            <div class="form-group">
                                <label>Product amount</label>
                                <div class=" add-icon-bx">

                                    <input class="form-control " value="" id="txtamount">
                                    <span class="doller-sign">@Model.currencyModel.CurrencyCode</span>
                                    <div class="add-icon edit-icon">
                                        <input type="text" name="myfile" class="form-control">
                                        <img src="~/images/edit.png">
                                    </div>
                                </div>
                            </div>



                            <div class="form-group">
                                <label>Add your product images</label>
                                <div class=" add-icon-bx" id="imageproductlink">
                                    <input class="form-control" id="lblimagepath" disabled>
                                    <div class="add-icon">
                                        <input type="file" name="myfile" class="form-control" id="txtimagepath" accept="image/*" onchange="ImageURL(this);">
                                        <img src="~/images/add-image-icon.png">
                                    </div>
                                </div>




                                <div class="addimg-area mt-3">
                                    <div class="cross-icon image-icon pl-1 pt-0">
                                        <ul id="listImages04">
                                        </ul>
                                    </div>
                                    <p id="txtParaImage"></p>
                                </div>

                            </div>



                            <div class="form-group ">

                                <div class="text-right mt-5">
                                    <button type="button" class="btn btn-lumo-green" onclick="ddlupdatecompaign()">Update campaign</button>
                                </div>
                            </div>


                        </div>
                    </div>

                </div>

            </div>

        </div>

    </div>

</div>
<!-- @*===end====*@ -->
<!-- @*======Edit Campaign====*@ -->
<div class="modal fade modal-add-bx " id="Reviewarchived" tabindex="-1" aria-labelledby="AddVehicleLabel" aria-hidden="true">
    <div class="modal-dialog  modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title ">Review archived campaign</h5>


                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    &times;
                </button>

            </div>
            <div class="modal-body">
                <div class="new-message">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label>Fundraiser title</label>
                                <div class=" add-icon-bx">
                                    <input class="form-control" id="txtarchivedtitle">
                                    <div class="add-icon edit-icon">
                                        <input type="text" name="myfile" class="form-control">
                                        <img src="~/images/Lock-3.png">
                                    </div>
                                </div>

                            </div>



                            <div class="form-group" id="archiveexpiredate">
                                <label>Expiry date for accepting funds</label>
                                <div class="form-group ">
                                    <div class=" add-icon-bx">
                                        <input class="form-control " value="02.05.2023" id="txtarchivedexpire">
                                        <div class="add-icon edit-icon">
                                            <input type="text" name="myfile" class="form-control">
                                            <img src="~/images/Lock-3.png">
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="form-group">
                                <label>Add a PDF document</label>
                                <div class=" add-icon-bx">
                                    <input class="form-control " value="pdfname.pdf" id="txtArchivePdf">
                                    <span></span>
                                    <div class="add-icon edit-icon">
                                        <input type="text" name="myfile" class="form-control">
                                        <img src="~/images/Lock-3.png">
                                    </div>
                                </div>

                            </div>



                            <div class="form-group">
                                <label>Description</label>
                                <textarea class="form-control height-auto bg-gray border-gray text-left" rows="4" placeholder="" id="txtArcivedDescription">

                            </textarea>
                            </div>

                            <div class="form-group" id="archivehyperlink">
                                <label>Add form hyperlink</label>
                                <div class=" add-icon-bx">
                                    <input class="form-control " value="hyperlink" id="txtArchivedHyperlink">
                                    <div class="add-icon edit-icon">
                                        <input type="text" name="myfile" class="form-control">
                                        <img src="~/images/Lock-3.png">
                                    </div>
                                </div>

                            </div>

                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Who is the contact person for this campaign?</label>
                                <div class=" add-icon-bx">
                                    <input class="form-control " value="Monique Sacks" id="txtArchivedPerson" />
                                    <div class="add-icon edit-icon">
                                        <input type="text" name="myfile" class="form-control" />
                                        <img src="~/images/Lock-3.png">
                                    </div>
                                </div>

                            </div>
                            <div class="form-group">
                                <label>Product amount</label>
                                <div class="add-icon-bx">

                                    <input class="form-control" value="" id="txtarchivedamount" />
                                    <span class="doller-sign">@Model.currencyModel.CurrencyCode</span>
                                    <div class="add-icon edit-icon">

                                        <img src="~/images/Lock-3.png">
                                    </div>
                                </div>
                            </div>


                            <div class="form-group">
                                <label>Add your product images</label>
                                <div class=" add-icon-bx">
                                    <div id="Oldimagesid"></div>
                                    <input class="form-control" id="txtimagepathbtn">
                                    <div class="add-icon edit-icon">
                                        <input type="text" name="myfile" class="form-control" id="textimagefunction">
                                        <img src="~/images/Lock-3.png">
                                    </div>
                                </div>

                                <div class="addimg-area mt-3">
                                    <div class="cross-icon image-icon pl-1 pt-0">
                                        <ul id="listImagesarchive">
                                        </ul>
                                    </div>
                                    <p id="txtParaImagearchive"></p>
                                </div>



                            </div>


                        </div>

                    </div>

                </div>

            </div>

        </div>

    </div>
</div>
<!-- @*===end====*@ -->
<!-- Attendees Modal -->
<div class="modal fade modal-add-bx without-datatable" id="PayemntsProduct" tabindex="-1" aria-labelledby="AttendeesLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title left-modal-title" id="txtdatacoount"></h5>

                <button type="button" class="btn btn-link text-white mr-5"><span class="mr-2"><img src="~/images/Download-white.png" onclick="exportCSVExcelPaymentproduct()"></span>Export CSV</button>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    &times;
                </button>
            </div>

            <div class="modal-body p-0">
                <div class="new-message">


                    <div class="table-responsive">
                        <table id="Payment-product" class="table attendence ">
                            <thead>
                                <tr>
                                    <th><span class="text-nowrap">Mark as collected</span></th>
                                    <th>Date <span class="ml-2 position-absolute"><img src="/images/Filter-black.png"></span></th>
                                    <th>Payee name <span class="ml-2 position-absolute"><img src="/images/Filter-black.png"></span></th>
                                    <th><span class="text-nowrap">Payee mobile</span></th>
                                    <th>Recipient name <span class="ml-2 position-absolute"><img src="/images/Filter-black.png"></span></th>
                                    <th><span class="text-nowrap">Recipient Mobile</span></th>
                                    <th>Product price</th>
                                    <th>Amount collected<span class="ml-2 position-absolute"><img src="/images/Filter-black.png"></span></th>
                                </tr>
                            </thead>
                            <tbody id="CommunityfundAmount">
                            </tbody>
                            <tfoot id="FundraiserAmounts">
                                <tr>
                                    <th colspan="6"></th>
                                    <th>{count marked}</th>
                                    <th>{total amount}</th>
                                    <th>{total amount}</th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>

            </div>

        </div>
    </div>
</div>

<!-- @*=======item deleteticket price display =====*@ -->
<div class="modal fade modal-small-bx" id="deletefunding" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <h5>Are you sure?</h5>
                    <p>You are about to delete this fund forever :(</p>
                </div>
                <div class="text-center">

                    <button type="button" class="btn bg-pink" onclick="onnodeletefunding()">No</button>
                    <button type="button" class="btn bg-lumo" onclick="onyesdeletefunding()">Yes</button>
                </div>

            </div>

        </div>
    </div>
</div>
<!-- @*========END======*@ -->
<!-- @*=======item deleteticket price display =====*@ -->
<div class="modal fade modal-small-bx" id="descriptionsho" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <h5>Description</h5>
                    <p id="txtDesc"></p>
                </div>
                <div class="text-center">

                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

                </div>


            </div>

        </div>
    </div>
</div>
<div class="modal fade modal-small-bx" id="deleteArchived" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <h5>Are you sure?</h5>
                    <p>You are about to delete this item forever :(</p>
                </div>
                <div class="text-center">
                    <button type="button" class="btn bg-lumo" onclick="onyesdeletefunding()">Yes</button>
                    <button type="button" class="btn bg-pink" onclick="onnodeletefunding()">No</button>
                </div>

            </div>

        </div>
    </div>
</div>
<!-- @*========END======*@ -->
<!-- @*=======item delete GroupUser display =====*@ -->
<div class="modal fade modal-small-bx" id="groupUserDelete" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <h5>Are you sure?</h5>
                    <p>You are about to remove this member from a group.</p>
                </div>
                <div class="text-center">
                    <button type="button" class="btn bg-lumo" onclick="YesDeleteGroupUser()">Yes</button>
                    <button type="button" class="btn bg-pink" onclick="NoDeleteGroupUser()">No</button>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modal-small-bx" id="UpdateCommunityProfile" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <p>Your community details updated successfully</p>
                </div>
                <div class="text-center">

                    <button type="button" class="btn btn-default btn-block" data-dismiss="modal">Close</button>

                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade modal-small-bx" id="deletecirleimageconfirmation" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <p>Your have successfully deleted this image!</p>
                </div>
                <div class="text-center">

                    <button type="button" class="btn btn-pink" data-dismiss="modal">Close</button>

                </div>
            </div>
        </div>
    </div>
</div>



<div class="modal fade modal-small-bx" id="UpdateRequestMessage" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <p>Member is added to the community</p>
                </div>
                <div class="text-center">

                    <button type="button" class="btn btn-default btn-block" data-dismiss="modal">Close</button>

                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade modal-small-bx" id="UpdateRequestDeclinedMessage" tabindex="-1" aria-labelledby="UnarchiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-body text-center">
                <div class="past-leave-box">
                    <p>Member is not added to the community</p>
                </div>
                <div class="text-center">

                    <button type="button" class="btn btn-default btn-block" data-dismiss="modal">Close</button>

                </div>
            </div>
        </div>
    </div>
</div>


<input type="hidden" id="communid" value="" />
<input type="hidden" id="TeamProfileId" value="" />
<input type="hidden" id="CommunityStaff" value="" />
<input type="hidden" id="customGroupdlt" value="" />
<input type="hidden" id="CommunitySMId" value="" />
<input type="hidden" id="currentstatusid" />
<input type="hidden" id="deletefundid" />
<input type="hidden" id="DeleteArchivedId" />
<input type="hidden" id="ArchivedId" />
<input type="hidden" id="Searchcustomerid" value="" />
<input type="hidden" id="grpIDs" />
<input type="hidden" id="Section1Id" />
<input type="hidden" id="extraValue" />
<input type="hidden" id="deleteiamgecross" />
<input type="hidden" id="Txttitlehiddenvalue" />
<input type="hidden" id="clsamountdetail" />
<input type="hidden" id="uniquefundid" />
<input type="hidden" id="globalhiddenvalue" />
<input type="hidden" id="FileNameImageComm" />
<input type="hidden" id="SetAmountFileNameImageComm" />
<input type="hidden" id="membtypeId" />



<div class="overlay"></div>

<!-- Include the table2csv library -->
<script src="https://cdn.jsdelivr.net/gh/rubo77/table2csv/table2csv.js"></script>



<script>

    //Student cross redirect
    $('#parentCrossBtn').click(function (e) {
        // window.location.href = "/Dashboard/Dashboard";
        $('.message-tab a[href="#Members"]').tab("show");
    })

    //Parent cross redirect
    $('#btnparentClose').click(function (e) {
        $('.message-tab a[href="#Members"]').tab("show");

    })

    //Alumni cross redirect
    $('#alumniCross').click(function (e) {
        $('.message-tab a[href="#Members"]').tab("show");
    })

    //Members cross redirect
    $('#membersCross').click(function (e) {
        window.location.href = "/Dashboard/Dashboard";
    })

    //Inactive cross redirect
    $('#inactiveCross').click(function (e) {
        $('.message-tab a[href="#Members"]').tab("show");
    })

    //BusinessIndex cross redirect
    // $('#BusinessIndex').click(function (e) {
    //     window.location.href = "/Dashboard/Dashboard";
    // })
    $('#businessCross').click(function (e) {
        $('.message-tab a[href="#Members"]').tab("show");
    })

    //Job Posting cross redirect
    $('#jobPostingCross').click(function (e) {
        $('.message-tab a[href="#BusinessIndex"]').tab("show");
    })

    //CommunityInformation cross redirect
    // $('#CommunityInformation').click(function (e) {
    //     window.location.href = "/Dashboard/Dashboard";
    // })
    $('#communityInfoCross').click(function (e) {
        $('.message-tab a[href="#Members"]').tab("show");
    })

    //SocialMedia cross redirect
    $('#smCross').click(function (e) {
        $('.message-tab a[href="#CommunityInformation"]').tab("show");
    })

    //Custom Group cross redirect
    $('#customGroupsCross').click(function (e) {
        $('.message-tab a[href="#CommunityInformation"]').tab("show");
    })

    //Staff Profile cross redirect
    $('#staffProfileCross').click(function (e) {
        $('.message-tab a[href="#CommunityInformation"]').tab("show");
    })

    otable9 = $('#txtnetwork').DataTable({
        "order": [[0, "desc"]],
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })

    otable9 = $('#inactive').DataTable({
        "order": [[0, "desc"]],
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })


    otable9 = $('#Team-Profiles').DataTable({
        "order": [[0, "desc"]],
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })

    otable10 = $('#custom-groups').DataTable({
        "ordering": false,
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })

    otable12 = $('#custom-groups-name').DataTable({
        "order": [[0, "desc"]],
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })

    otable1 = $('#Table_alumni').DataTable({
        "order": [[0, "aesc"]],
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })
    // otable1 = $('#PayemntsProduct').DataTable({
    //         "order": [[0, "desc"]],
    //         searching: false,
    //         pagination: false,

    //         "dom": 'rt<"bottom"flp><"bottom"i>'
    //     })

    otable2 = $('#Archived-Fundraisers').DataTable({
        "order": [[0, "desc"]],
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })
    otable3 = $('#Active-Fundraisers').DataTable({
        "order": [[0, "desc"]],
        searching: false,
        pagination: false,
        sorting: true,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })
    otable4 = $('#students').DataTable({
        "order": [[0, "aesc"]],
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })
    otable5 = $('#parents').DataTable({
        "order": [[0, "aesc"]],
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })
    otable6 = $('#members').DataTable({
        "order": [[0, "aesc"]],
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })
    otable7 = $('#Business-index').DataTable({
        "order": [[0, "desc"]],
        searching: false,
        pagination: false,
        "dom": 'rt<"bottom"flp><"bottom"i>'
    })
    otable8 = $('#Job-postings').DataTable({
        "order": [[0, "desc"]],
        searching: false,

        pagination: false,
        "dom": 'rt<"bottom"flp><"bottom"i>'
    })



    otable11 = $('#name-position').DataTable({
        "order": [[0, "desc"]],
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })


    otable13 = $('#Team-Setup').DataTable({
        "order": [[0, "desc"]],
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })
    otable14 = $('#requeststable').DataTable({
        "order": [[0, "aesc"]],
        searching: false,
        pagination: false,

        "dom": 'rt<"bottom"flp><"bottom"i>'
    })





    $(document).ready(function () {
        $('.addimg-area').hide();

        let customGroupNameId = localStorage.getItem('customGroupNameId');

        $(`#${customGroupNameId}`).addClass("active-bold");
        //Students
        const redirectStudents = new URLSearchParams(window.location.search);
        const communityStudent = redirectStudents.get('id');
        if (communityStudent == 'student') {
            $('[href="#Students"]').click();
        }

        //Parents
        const redirectParents = new URLSearchParams(window.location.search);
        const communityParent = redirectParents.get('id');
        if (communityParent == 'parent') {
            $('[href="#Parents"]').click();
        }

        //Alumni
        const redirectAlumni = new URLSearchParams(window.location.search);
        const communityAlumni = redirectAlumni.get('id');
        if (communityAlumni == 'alumni') {
            $('[href="#Alumni"]').click();
        }

        //Members
        const redirectMembers = new URLSearchParams(window.location.search);
        const communityMember = redirectMembers.get('id');
        if (communityMember == 'member') {
            $('[href="#Members"]').click();
        }

        //forbusiness
        const urlParams = new URLSearchParams(window.location.search);
        const param_x = urlParams.get('id');
        if (param_x == 'business') {
            $('[href="#BusinessIndex"]').click();
        }
        const memurlParams = new URLSearchParams(window.location.search);
        const param_m = memurlParams.get('id');
        if (param_m == 'membersubsc') {
            $('[href="#membersubs"]').click();
        }

        //forJob
        const joburlParams = new URLSearchParams(window.location.search);
        const param_y = joburlParams.get('id');
        if (param_y == 'job') {
            $('[href="#JobPostings"]').click();
        }

        //forcommunityInformation
        const communityurlPramas = new URLSearchParams(window.location.search);
        const param_z = communityurlPramas.get('id');
        if (param_z == 'communityprofile') {
            $('[href="#CommunityInformation"]').click();
        }

        const deletefund = new URLSearchParams(window.location.search);
        const param_fd = communityurlPramas.get('id');
        if (param_fd == 'delete') {
            $('[href="#ArchivedFundraisers"]').click();
        }

        const savefund = new URLSearchParams(window.location.search);
        const param_sd = communityurlPramas.get('id');
        if (param_sd == 'save') {
            $('[href="#ActiveFundraisers"]').click();
        }

        //const joburlParamst = new URLSearchParams(window.location.search);
        //const param_y = joburlParamst.get('id');
        //if (param_y == 'parent') {
        //    $('[href="#Parents"]').click();
        //}

        //ForCustomGroup
        const customGroups = new URLSearchParams(window.location.search);
        const redirectCustomGroup = customGroups.get('id');
        if (redirectCustomGroup == 'customGrp') {
            $('[href="#CustomGroups"]').click();
        }

        //ForSocialMediaAddUpdate
        const socialMediaUrlPramas = new URLSearchParams(window.location.search);
        const param_socialMedia = socialMediaUrlPramas.get('id');
        if (param_socialMedia == 'socialMedia') {
            $('[href="#SocialMedia"]').click();
        }

        //ForCommunityStaff
        const communitystaffParams = new URLSearchParams(window.location.search);
        const communitystaffP = communitystaffParams.get('id');
        if (communitystaffP == 'communityStaff') {
            $('[href="#TeamProfiles"]').click();
        }

        //ForAddingStaffProfile
        const addStaffProfile = new URLSearchParams(window.location.search);
        const staffProfile = addStaffProfile.get('id');
        if (staffProfile == 'staffProfile') {
            $('[href="#AddTeamProfile"]').click();
        }


    });


    //Student Excel Export
    function exportCSVExcelStudent() {
        const currentDate = new Date();
        const day = String(currentDate.getDate()).padStart(2, '0');
        const month = String(currentDate.getMonth() + 1).padStart(2, '0');
        const year = currentDate.getFullYear();
        const formattedDate = `${day}-${month}-${year}`;
        const filename = `Students_${formattedDate}.xls`;

        const clonedTable = $('#students').clone();

        clonedTable.find('th:last-child, td:last-child').remove();

        var columnToRemove = 10;
        clonedTable.find('th:nth-child(' + (columnToRemove + 1) + ')').remove();
        clonedTable.find('td:nth-child(' + (columnToRemove + 1) + ')').remove();

        clonedTable.find('thead tr th:first-child img').remove();
        clonedTable.find('tbody tr td:first-child img').remove();

        clonedTable.find('thead tr th:eq(2) img').remove();
        clonedTable.find('tbody tr td:eq(2) img').remove();

        clonedTable.find('tbody tr td:nth-child(2)').each(function () {
            const mobileNumber = $(this).text();
            // if (mobileNumber.startsWith('+')) {
            //     $(this).text("'" + mobileNumber);
            // }
            $(this).text("'" + mobileNumber);
        });

        clonedTable.table2excel({
            delivery: 'value',
            filename: filename
        });
    }
    //date
    function returndateformats(date) {
        var d = new Date(date.split("-").reverse().join("-"));
        var dd = d.getDate();
        var mm = d.getMonth() + 1;
        var yy = d.getFullYear();
        var newdate = yy + "-" + mm + "-" + dd;
        return newdate;
    }
    function returndateformat(date) {
        var d = new Date(date.split("-").reverse().join("-"));
        var dd = d.getDate();
        var mm = d.getMonth() + 1;
        var yy = d.getFullYear();
        var newdate = yy + "-" + mm + "-" + dd;
        return newdate;
    }
    //Parent Excel Export
    function exportCSVExcelParents() {
        const currentDate = new Date();
        const day = String(currentDate.getDate()).padStart(2, '0');
        const month = String(currentDate.getMonth() + 1).padStart(2, '0');
        const year = currentDate.getFullYear();
        const formattedDate = `${day}-${month}-${year}`;
        const filename = `Parents_${formattedDate}.xls`;

        const clonedTable = $('#parents').clone();

        clonedTable.find('th:first-child img').remove();

        var columnToRemove = 9;
        clonedTable.find('th:nth-child(' + (columnToRemove + 1) + ')').remove();
        clonedTable.find('td:nth-child(' + (columnToRemove + 1) + ')').remove();

        clonedTable.find('thead tr th:first-child img').remove();
        clonedTable.find('tbody tr td:first-child img').remove();

        clonedTable.find('th:last-child, td:last-child').remove();

        clonedTable.find('tbody tr td:nth-child(2)').each(function () {
            const mobileNumber = $(this).text();
            if (mobileNumber.startsWith('+')) {
                $(this).text("'" + mobileNumber);
            }
        });

        clonedTable.find('tbody tr td:nth-child(4)').each(function () {
            const mobileNumber = $(this).text();
            // if (mobileNumber.startsWith('+')) {
            //     $(this).text("'" + mobileNumber);
            // }
            $(this).text("'" + mobileNumber);
        });

        clonedTable.table2excel({
            delivery: 'value',
            filename: filename
        });
    }

    //Alumni Excel Export
    function exportCSVExcelAlumnl() {
        const currentDate = new Date();
        const day = String(currentDate.getDate()).padStart(2, '0');
        const month = String(currentDate.getMonth() + 1).padStart(2, '0');
        const year = currentDate.getFullYear();
        const formattedDate = `${day}-${month}-${year}`;
        const filename = `Alumnl_${formattedDate}.xls`;

        const clonedTable = $('#Table_alumni').clone();

        clonedTable.find('th:last-child, td:last-child').remove();

        var columnToRemove = 9;
        clonedTable.find('th:nth-child(' + (columnToRemove + 1) + ')').remove();
        clonedTable.find('td:nth-child(' + (columnToRemove + 1) + ')').remove();

        clonedTable.find('thead tr th:first-child img').remove();
        clonedTable.find('tbody tr td:first-child img').remove();

        clonedTable.find('thead tr th:eq(3) img').remove();
        clonedTable.find('tbody tr td:eq(3) img').remove();

        clonedTable.find('thead tr th:eq(4) img').remove();
        clonedTable.find('tbody tr td:eq(4) img').remove();

        clonedTable.find('tbody tr td:nth-child(2)').each(function () {
            const mobileNumber = $(this).text();
            // if (mobileNumber.startsWith('+')) {
            //     $(this).text("'" + mobileNumber);
            // }
            $(this).text("'" + mobileNumber);
        });

        clonedTable.table2excel({
            delivery: 'value',
            filename: filename
        });
    }

    //Member Export Excel
    function exportCSVExcelMember() {
        const currentDate = new Date();
        const day = String(currentDate.getDate()).padStart(2, '0');
        const month = String(currentDate.getMonth() + 1).padStart(2, '0');
        const year = currentDate.getFullYear();
        const formattedDate = `${day}-${month}-${year}`;
        const filename = `Members_${formattedDate}.xls`;

        const clonedTable = $('#members').clone();

        clonedTable.find('th:last-child, td:last-child').remove();

        var columnToRemove = 9;
        clonedTable.find('th:nth-child(' + (columnToRemove + 1) + ')').remove();
        clonedTable.find('td:nth-child(' + (columnToRemove + 1) + ')').remove();


        clonedTable.find('thead tr th:first-child img').remove();
        clonedTable.find('tbody tr td:first-child img').remove();

        clonedTable.find('tbody tr td:nth-child(2)').each(function () {
            const mobileNumber = $(this).text();
            // if (mobileNumber.startsWith('+')) {
            //     $(this).text("'" + mobileNumber);
            // }

            $(this).text("'" + mobileNumber);
        });

        clonedTable.table2excel({
            delivery: 'value',
            filename: filename
        });
    }

    //Inactive Export Excel
    function exportCSVExcelInActive() {
        const currentDate = new Date();
        const day = String(currentDate.getDate()).padStart(2, '0');
        const month = String(currentDate.getMonth() + 1).padStart(2, '0');
        const year = currentDate.getFullYear();
        const formattedDate = `${day}-${month}-${year}`;
        const filename = `Inactive_${formattedDate}.xls`;

        const clonedTable = $('#Inactive').clone();

        clonedTable.find('th:last-child, td:last-child').remove();
        var columnToRemove = 4;
        clonedTable.find('th:nth-child(' + (columnToRemove + 1) + ')').remove();
        clonedTable.find('td:nth-child(' + (columnToRemove + 1) + ')').remove();

        clonedTable.find('thead tr th:first-child img').remove();
        clonedTable.find('tbody tr td:first-child img').remove();

        clonedTable.find('tbody tr td:nth-child(2)').each(function () {
            const mobileNumber = $(this).text();
            // if (mobileNumber.startsWith('+')) {
            //     $(this).text("'" + mobileNumber);
            // }

            $(this).text("'" + mobileNumber);
        });

        clonedTable.table2excel({
            delivery: 'value',
            filename: filename
        });
    }

    //Business Index Export Excel

    function exportCSVExcelBusinessIndex() {
        const currentDate = new Date();
        const day = String(currentDate.getDate()).padStart(2, '0');
        const month = String(currentDate.getMonth() + 1).padStart(2, '0');
        const year = currentDate.getFullYear();
        const formattedDate = `${day}-${month}-${year}`;
        const filename = `Business_Index_${formattedDate}.xls`;

        const clonedTable = $('#BusinessIndex').clone();

        clonedTable.find('th:last-child, td:last-child').remove();

        clonedTable.find('thead tr th:first-child img').remove();
        clonedTable.find('tbody tr td:first-child img').remove();

        clonedTable.find('tbody tr td:nth-child(2)').each(function () {
            const mobileNumber = $(this).text();
            // if (mobileNumber.startsWith('+')) {
            //     $(this).text("'" + mobileNumber);
            // }

            $(this).text("'" + mobileNumber);
        });

        clonedTable.table2excel({
            delivery: 'value',
            filename: filename
        });
    }

    //Job Posting Excel
    function exportCSVExcelJobposting() {
        const currentDate = new Date();
        const day = String(currentDate.getDate()).padStart(2, '0');
        const month = String(currentDate.getMonth() + 1).padStart(2, '0');
        const year = currentDate.getFullYear();
        const formattedDate = `${day}-${month}-${year}`;
        const filename = `Job_postings_${formattedDate}.xls`;

        const clonedTable = $('#JobPostings').clone();

        clonedTable.find('th:last-child, td:last-child').remove();

        clonedTable.find('thead tr th:first-child img').remove();
        clonedTable.find('tbody tr td:first-child img').remove();

        clonedTable.find('thead tr th:eq(1) img').remove();
        clonedTable.find('tbody tr td:eq(1) img').remove();

        clonedTable.find('thead tr th:eq(4) img').remove();
        clonedTable.find('tbody tr td:eq(4) img').remove();

        clonedTable.find('tbody tr td:nth-child(4)').each(function () {
            const mobileNumber = $(this).text();
            // if (mobileNumber.startsWith('+')) {
            //     $(this).text("'" + mobileNumber);
            // }

            $(this).text("'" + mobileNumber);

        });

        clonedTable.table2excel({
            delivery: 'value',
            filename: filename
        });

    }


    //TeamProfile Excel Export
    function exportCSVExcelteamprofile() {
        const currentDate = new Date();
        const day = String(currentDate.getDate()).padStart(2, '0');
        const month = String(currentDate.getMonth() + 1).padStart(2, '0');
        const year = currentDate.getFullYear();
        const formattedDate = `${day}-${month}-${year}`;
        const filename = `Team_Profiles_${formattedDate}.xls`;

        const clonedTable = $('#TeamProfiles').clone();

        clonedTable.find('th:last-child, td:last-child').remove();

        clonedTable.find('thead tr th:first-child img').remove();
        clonedTable.find('tbody tr td:first-child img').remove();

        clonedTable.find('tbody tr td:nth-child(4)').each(function () {
            const mobileNumber = $(this).text();
            // if (mobileNumber.startsWith('+')) {
            //     $(this).text("'" + mobileNumber);
            // }

            $(this).text("'" + mobileNumber);
        });

        clonedTable.table2excel({
            delivery: 'value',
            filename: filename
        });

    }



    function exportCSVExcelActiveFundraisers() {
        const currentDate = new Date();
        const day = String(currentDate.getDate()).padStart(2, '0');
        const month = String(currentDate.getMonth() + 1).padStart(2, '0');
        const year = currentDate.getFullYear();
        const formattedDate = `${day}-${month}-${year}`;
        const filename = `ActiveFundraiser_${formattedDate}.xls`;

        const clonedTable = $('#ActiveFundraisers').clone();

        clonedTable.find('th:first-child, td:first-child').remove();

        clonedTable.find('th:last-child, td:last-child').remove();

        clonedTable.find('thead tr th:first-child img').remove();
        clonedTable.find('tbody tr td:first-child img').remove();

        clonedTable.find('thead tr th:eq(2) img').remove();
        clonedTable.find('tbody tr td:eq(2) img').remove();

        clonedTable.find('thead tr th:eq(3) img').remove();
        clonedTable.find('tbody tr td:eq(3) img').remove();


        clonedTable.find('thead tr th:eq(3)').remove();
        clonedTable.find('tbody tr').each(function () {
            $(this).find('td:eq(3)').remove();
        });
        clonedTable.table2excel({
            delivery: 'value',
            filename: filename
        });
    }

    function exportCSVExcelArchivedFundraisers() {
        const currentDate = new Date();
        const day = String(currentDate.getDate()).padStart(2, '0');
        const month = String(currentDate.getMonth() + 1).padStart(2, '0');
        const year = currentDate.getFullYear();
        const formattedDate = `${day}-${month}-${year}`;
        const filename = `Archived_Fundraisers_${formattedDate}.xls`;

        const clonedTable = $('#Archived-Fundraisers').clone();
        clonedTable.find('th:first-child, td:first-child').remove();

        clonedTable.find('th:last-child, td:last-child').remove();

        clonedTable.find('thead tr th:first-child img').remove();
        clonedTable.find('tbody tr td:first-child img').remove();

        clonedTable.find('thead tr th:eq(1) img').remove();
        clonedTable.find('tbody tr td:eq(1) img').remove();


        clonedTable.find('thead tr th:eq(2) img').remove();
        clonedTable.find('tbody tr td:eq(2) img').remove();

        clonedTable.find('thead tr th:eq(3) img').remove();
        clonedTable.find('tbody tr td:eq(3) img').remove();

        clonedTable.find('thead tr th:eq(3)').remove();
        clonedTable.find('tbody tr').each(function () {
            $(this).find('td:eq(3)').remove();
        });

        clonedTable.table2excel({
            delivery: 'value',
            filename: filename
        });
    }



    function exportCSVExcelPaymentproduct() {
        const currentDate = new Date();
        const day = String(currentDate.getDate()).padStart(2, '0');
        const month = String(currentDate.getMonth() + 1).padStart(2, '0');
        const year = currentDate.getFullYear();
        const formattedDate = `${day}-${month}-${year}`;
        const filename = `Payment-product_${formattedDate}.xls`;

        const clonedTable = $('#Payment-product').clone();

        clonedTable.find('th:first-child, td:first-child').remove();

        clonedTable.find('thead tr th:first-child img').remove();
        clonedTable.find('tbody tr td:first-child img').remove();

        clonedTable.find('thead tr th:eq(2) img').remove();
        clonedTable.find('tbody tr td:eq(2) img').remove();

        clonedTable.find('thead tr th:eq(3) img').remove();
        clonedTable.find('tbody tr td:eq(3) img').remove();

        clonedTable.find('thead tr th:eq(5) img').remove();
        clonedTable.find('tbody tr td:eq(5) img').remove();

        clonedTable.find('thead tr th:eq(6) img').remove();
        clonedTable.find('tbody tr td:eq(6) img').remove();

        clonedTable.find('thead tr th:eq(7) img').remove();
        clonedTable.find('tbody tr td:eq(7) img').remove();

        clonedTable.find('thead tr th:eq(1) img').remove();
        clonedTable.find('tbody tr td:eq(1) img').remove();


        clonedTable.find('tbody tr td:nth-child(3)').each(function () {
            const mobileNumber = $(this).text();
            $(this).text("'" + mobileNumber);
        });
        clonedTable.find('tbody tr td:nth-child(5)').each(function () {
            const mobileNumber = $(this).text();
            $(this).text("'" + mobileNumber);
        });

        clonedTable.table2excel({
            delivery: 'value',
            filename: filename
        });
    }





</script>

<script type="text/javascript">
    $("#datefrom").datepicker({
        dateFormat: 'dd-mm-yy',
        beforeShow: function (input, inst) {
            $('.overlay').addClass('d-block');
        },
        onSelect: function (dateText, inst) {
            $('.overlay').removeClass('d-block');
        }
    });


    $("#datetime").datepicker({
        dateFormat: 'dd-mm-yy',
        beforeShow: function (input, inst) {
            $('.overlay').addClass('d-block');
        },
        onSelect: function (dateText, inst) {
            $('.overlay').removeClass('d-block');
        }

    });

    $("#datetime1").datepicker({
        dateFormat: 'dd-mm-yy',
        beforeShow: function (input, inst) {
            $('.overlay').addClass('d-block');
        },
        onSelect: function (dateText, inst) {
            $('.overlay').removeClass('d-block');
        }
    });


    $("#datefrom1").datepicker({
        dateFormat: 'dd-mm-yy',
        beforeShow: function (input, inst) {
            $('.overlay').addClass('d-block');
        },
        onSelect: function (dateText, inst) {
            $('.overlay').removeClass('d-block');
        }
    });

    $("#Expiredatesetamount").datepicker({
        dateFormat: 'dd-mm-yy',
        beforeShow: function (input, inst) {
            $('.overlay').addClass('d-block');
        },
        onSelect: function (dateText, inst) {
            $('.overlay').removeClass('d-block');
        }
    });


    $(".overlay").on("click", function () {
        $(".overlay").removeClass("d-block");
    });
</script>


<script type="text/javascript">

    function CommuntiyInfoLogo(input) {
        document.getElementById('lblcommunity').innerHTML = '';
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            updateimagename = input.files[0].name;
            document.getElementById('lblcommunity').innerHTML = input.files[0].name
        }

    }

    function CommuntiyInfoImage(input) {
        document.getElementById('lblcommunityci').innerHTML = '';
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            updateimagename = input.files[0].name;
            document.getElementById('lblcommunityci').innerHTML = input.files[0].name
        }

    }

    function CommuntiyInfobanner(input) {
        document.getElementById('lblbanner').innerHTML = '';
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            updateimagename = input.files[0].name;
            document.getElementById('lblbanner').innerHTML = input.files[0].name
        }

    }


    $('#UpdateCommunity').click(function () {

        var OrgName = $('#OrgName').val();
        var OrgAddress1 = $('#Address').val();
        var About = $('#About').val();
        var WorkingHours = $('#Hours').val();
        var PrimaryMobileNo = $('#MobileNumber').val();
        var TitleHolder = $('#title').val();
        var AccessCode = $('#access').val();
        var TitleLabel = $('#titleName').val();
        var Website = $('#website').val();
        var OrgLogo = document.getElementById('communityLogo').files[0];
        var CoverImage = document.getElementById('communitycoverImg').files[0];
        var DasboardBanner = document.getElementById('communitybannerImg').files[0];
        var Email = $('#Email').val();
        var OrgLogoName = $('#lblcommunityci').text();
        var DasboardBannerName = $('#lblbanner').text();
        var OrgCoverImageName = $('#lblcommunity').text();


        var id = $("#CommunityInfoId").val();

        var formData = new FormData();
        formData.append("OrgName", OrgName);
        formData.append("OrgAddress1", OrgAddress1);
        formData.append("About", About);
        formData.append("WorkingHours", WorkingHours);
        formData.append("PrimaryMobileNo", PrimaryMobileNo);
        formData.append("TitleHolder", TitleHolder);
        formData.append("AccessCode", AccessCode);
        formData.append("TitleLabel", TitleLabel);
        formData.append("website", Website);
        formData.append("OrgLogoImg", OrgLogo);
        formData.append("OrgCoverImage", CoverImage);
        formData.append("DasboardBannerImg", DasboardBanner);
        formData.append("PrimaryEmail", Email);

        if (id == "" || id == 0) {
            $.ajax({
                url: '/Community/AddCommmunityInfo',
                type: 'POST',
                cache: false,
                contentType: false,
                contentType: false,
                processData: false,
                data: formData,
                dataType: 'json',
                success: function (result) {
                    var community = result.data;
                    $('#communid').val(community);
                    $('#membersubs').modal('hide');
                    window.location.href = "/Community/Community?id=communityprofile";
                },
                error: function () {

                }
            });
        }
        else {


            formData.append("Id", id);



            var Aurl = "/Community/UpdateCommunityInfo";
            $.ajax({
                type: "POST",
                url: Aurl,
                data: formData,
                contentType: false,
                processData: false,
                dataType: "json",
                success: function (Result) {

                    if (Result.success == true) {

                        $('#CommunityInformation').modal('hide');
                        $("#UpdateCommunityProfile").modal('show');

                        setTimeout(function () {
                            window.location.href = "/Community/Community?id=communityprofile";
                        }, 2500);

                    }

                },
                error: function (request, error) {
                    $("#erroritem").modal("show");
                    $("#errmsg1").text("Oops! something went wrong")
                }
            });
        }
    });
    // function BindEventName() {
    $('#Updatemember').click(function () {
        UpdateMemberType();
    });

    //function ChangeUpdateMemberType() {
    //    debugger;
    //    var MembershipType = $('#membtype').val();
    //    if (MembershipType == 101) {
    //        var CoummunityUrl = $('#commurl').val();
    //     //   $("#pricemem").attr("readonly", "readonly");
    //        var Price = $('#pricemem').val();
    //        var AccessType = $('#Accesstype').val();
    //        var formData = new FormData();
    //        formData.append("CoummunityUrl", CoummunityUrl);
    //        formData.append("MembershipType", MembershipType);
    //        formData.append("Price", Price);
    //        formData.append("AccessType", AccessType);
    //        $.ajax({
    //            url: '/Community/updatemembersubscriptionn',
    //            type: 'POST',
    //            cache: false,
    //            contentType: false,
    //            contentType: false,
    //            processData: false,
    //            data: formData,
    //            dataType: 'json',
    //            success: function (result) {
    //                var community = result.data;
    //                // alert('ok');
    //                $("#UpdateCommunityProfile").modal('show');
    //                window.location.href = "/Community/Community?id=membersubsc";

    //            },
    //            error: function () {

    //            }
    //        });
    //    }
    //}

    function UpdateMemberType() {
        var CoummunityUrl = $('#commurl').val();
        var MembershipType = $('#membtypeId').val();
        var AccessType = $('#Accesstype').val();
        var Price = $('#pricemem').val();
        var formData = new FormData();
        formData.append("CoummunityUrl", CoummunityUrl);
        formData.append("MembershipType", MembershipType);
        formData.append("Price", Price);
        formData.append("AccessType", AccessType);
        $.ajax({
            url: '/Community/updatemembersubscriptionn',
            type: 'POST',
            cache: false,
            contentType: false,
            contentType: false,
            processData: false,
            data: formData,
            dataType: 'json',
            success: function (result) {
                var community = result.data;
                // alert('ok');
                $("#UpdateCommunityProfile").modal('show');
                window.location.href = '/Community/Community?id=Subscribemember';
                // window.location.href = '/community/community?id=customGrp';

            },
            error: function () {

            }
        });
    }
</script>

<script>
    $(document).ready(function () {
        GetCommunityInfoById();
        GetFundraisers();
        GetArchiveFundraisers();
        GetmemberInfoById();

    });

    function normalizeImagePath(path) {
        if (path != null) {
            return path.replace("\\", "/");     // Replace backslashes with forward slashes
        } else {

        }

    }

    function GetCommunityInfoById() {
        var Obj = {
            Id: 0
        }
        var Aurl = "/Community/GetCommunityInfoById";
        $.ajax({
            type: "Get",
            url: Aurl,
            data: Obj,
            success: function (Result) {
                //  console.log(Result);
                var status = Result.success;
                if (status == true) {

                    $('#OrgName').val(Result.data.orgName);
                    $('#Address').val(Result.data.orgAddress1);
                    $('#About').val(Result.data.about);
                    $('#Hours').val(Result.data.workingHours);
                    $('#access').val(Result.data.accessCode);
                    $('#MobileNumber').val(Result.data.primaryMobileNo);
                    $('#title').val(Result.data.titleHolder);
                    $('#titleName').val(Result.data.titleLabel);
                    $('#website').val(Result.data.website);
                    $('#Email').val(Result.data.primaryEmail);
                    $("#CommunityInfoId").val(Result.data.id);
                    // var indexx = Result.data.orgLogo.lastIndexOf("/") + 1;
                    // var filenamee = Result.data.orgLogo.substr(indexx);
                    // $('#lblcommunity').html(filenamee);
                    // var index2 = Result.data.coverimage.lastIndexOf("\\") + 1;
                    // var filename2 = Result.data.coverimage.substr(index2);
                    // $('#lblcommunityci').html(filename2);

                    //New functionality of OrgLogo and coverImage
                    var normalizedOrgLogo = normalizeImagePath(Result.data.orgLogo);
                    // var normalizedCoverImage = normalizeImagePath(Result.data.coverimage);
                    //  var normalizedbannerImage = normalizeImagePath(Result.data.dashboardBanner)

                    if (Result.data.coverimage) {
                        var normalizedCoverImage = normalizeImagePath(Result.data.coverimage);
                        var filename2 = normalizedCoverImage.split('/').pop();
                        $('#lblcommunityci').html(filename2);
                    } else {
                        $('#lblcommunityci').html(""); // Set blank if null or empty
                    }

                    if (Result.data.dashboardBanner) {
                        var normalizedbannerImage = normalizeImagePath(Result.data.dashboardBanner);
                        var bannerfile = normalizedbannerImage.split('/').pop();
                        $('#lblbanner').html(bannerfile);
                    } else {
                        $('#lblbanner').html(""); // Set blank if null or empty
                    }
                    var filenamee = normalizedOrgLogo.split('/').pop();
                    // var filename2 = normalizedCoverImage.split('/').pop();
                    // var bannerfile = normalizedbannerImage.split('/').pop()
                    $('#lblcommunity').html(filenamee);
                    $('#lblcommunityci').html(filename2);
                    $('#lblbanner').html(bannerfile);


                }
            },
            error: function (request, error) {
                $("#erroritem").modal("show");
                $("#errmsg1").text("Oops! something went wrong")
            }
        });
    }


    $(document).ready(function () {
        // BindMemberType();
        BindAccessType();
    });

    //function BindMemberType() {
    //    $.ajax({
    //        url: '/Community/GetMasterMembershipType',
    //        type: 'Get',
    //        dataType: 'json',
    //        success: function (result) {
    //            //console.log(result);
    //            var memtype = '<option value="0">Select</option>';
    //            var community = result.data;
    //            $.each(result.data, function (key, value) {
    //                memtype += '<option value="' + value.id + '">' + value.name + '</option>';
    //            });
    //            $('#membtype').html(memtype);
    //        },
    //        error: function () {

    //        }
    //    });
    //}

    function BindAccessType(Id) {
        var objdata = {
            SubscriptionType: Id
        }
        $.ajax({
            url: '/Community/GetMasterAccessType',
            type: 'Post',
            data: objdata,
            dataType: 'json',
            success: function (result) {
                // console.log(result);
                var acestype = '<option value="0">Select</option>';
                var community = result.data;
                $.each(result.data, function (key, value) {
                    acestype += '<option value="' + value.id + '">' + value.name + '</option>';
                });
                $('#Accesstype').html(acestype);
            },
            error: function () {

            }
        });
    }

    function GetmemberInfoById() {
        var Aurl = "/Community/GetMembersubscription";
        $.ajax({
            type: "Get",
            url: Aurl,
            success: function (Result) {
                //  console.log(Result);
                var status = Result.success;
                if (status == true) {
                    var typeid = Result.data[0].membershipTypeId;
                    var atypeid = Result.data[0].accessTypeId;
                    //   alert(typeid);

                    //setTimeout(function () {
                    //    BindMemberType();
                    //    setTimeout(function () {
                    //        $("#membtype option[value='" + typeid + "']").prop('selected', true);
                    //    }, 1000);
                    //}, 2000);
                    $("#membtype").val(Result.data[0].membershipType);
                    $("#membtypeId").val(Result.data[0].membershipTypeId);

                    setTimeout(function () {

                        BindAccessType($("#membtypeId").val());
                        setTimeout(function () {
                            $("#Accesstype option[value='" + atypeid + "']").prop('selected', true);
                        }, 1000);
                    }, 2000);
                    $('#commurl').val(Result.data[0].coummunityUrl);
                    //if (Result.data[0].subscriptionTierId != 103 && Result.data[0].subscriptionTierId != 106) {
                    //    $("#pricemem").attr("readonly", "readonly");

                    //}
                    $("#membtype").attr("readonly", "readonly");
                    $('#Accesstype').val(Result.data[0].accessType);
                    // $('#membtype').val(typeid);
                    $('#commdiscoveryURL').attr('href', $("#commdisURL").text() + Result.data[0].coummunityUrl);

                    if (typeid == 101) {
                        $('#pricemem').val('0.00');
                        $("#pricemem").attr("readonly", "readonly");
                    }
                    else {
                        $('#pricemem').val(Result.data[0].price.toFixed(2));
                    }
                }
            },
            error: function (request, error) {
                $("#erroritem").modal("show");
                $("#errmsg1").text("Oops! something went wrong")
            }
        });
    }
</script>


<script type="text/javascript">

    $('#SMUpdate').click(function () {
        var Facebook = $('#txtFacebook').val();
        var LinkedIn = $('#txtLinkedIn').val();
        var Instagram = $('#txtInstagram').val();
        var TikTok = $('#txtTiktok').val();
        var Twitter = $('#txtTwitter').val();
        var Youtube = $('#txtYoutube').val();


        if (Facebook === '' && LinkedIn === '' && Instagram === '' && TikTok === '' && Twitter === '' && Youtube === '') {
            $("#HyperNotPresentSM").modal("show");
            $("#itemaddheaderSM").text("Oops!");
            $("#messageSM").text("Please enter links");
            return;
        }

        if ((Facebook !== '' && !isValidLink(Facebook)) ||
            (LinkedIn !== '' && !isValidLink(LinkedIn)) ||
            (Instagram !== '' && !isValidLink(Instagram)) ||
            (TikTok !== '' && !isValidLink(TikTok)) ||
            (Twitter !== '' && !isValidLink(Twitter)) ||
            (Youtube !== '' && !isValidLink(Youtube))) {
            $("#HyperNotPresentSM").modal("show");
            $("#itemaddheaderSM").text("Oops!");
            $("#messageSM").text("Please enter valid link");
            return;
        }

        var id = $("#CommunitySMId").val();

        if (id == "" || id == 0) {
            var formData = new FormData();
            formData.append("Facebook", Facebook);
            formData.append("LinkedIn", LinkedIn);
            formData.append("Instagram", Instagram);
            formData.append("TikTok", TikTok);
            formData.append("Twitter", Twitter);
            formData.append("Youtube", Youtube);

            $.ajax({
                url: '/Community/AddSocialMedia',
                type: 'POST',
                cache: false,
                contentType: false,
                processData: false,
                data: formData,
                dataType: 'json',
                success: function (Result) {
                    if (status == true) {
                        $("#HyperNotPresentSM").modal("show");
                        $("#itemaddheaderSM").text("Top! job");
                        $("#messageSM").text("You’ve successfully updated links");
                        setTimeout(function () {
                            window.location.href = '/community/community?id=socialMedia';
                        }, 3000);
                    }
                }
            });
        }
        else {
            var formData = new FormData();
            formData.append("Facebook", Facebook);
            formData.append("LinkedIn", LinkedIn);
            formData.append("Instagram", Instagram);
            formData.append("TikTok", TikTok);
            formData.append("Twitter", Twitter);
            formData.append("Youtube", Youtube);
            formData.append("Id", id);


            var Aurl = "/Community/UpdateSocialMediaInfo";
            $.ajax({
                type: "POST",
                url: Aurl,
                data: formData,
                contentType: false,
                processData: false,
                dataType: "json",
                success: function (Result) {
                    var status = Result.success;
                    if (status == true) {
                        $("#HyperNotPresentSM").modal("show");
                        $("#itemaddheaderSM").text("Top! job");
                        $("#messageSM").text("You’ve successfully updated links");
                        setTimeout(function () {
                            window.location.href = '/community/community?id=socialMedia';
                        }, 3000);


                    }
                    else {
                        $("#HyperNotPresentSM").modal("show");
                        $("#itemaddheaderSM").text("Oops!");
                        $("#messageSM").text("Something went wrong");
                    }
                },

                error: function (request, error) {
                    $("#HyperNotPresentSM").modal("show");
                    $("#itemaddheaderSM").text("Oops!");
                    $("#messageSM").text("Something went wrong");
                }

            });
        }
    });

    function isValidLink(link) {
        // Simple regex pattern for a URL
        var urlPattern = /^(ftp|http|https):\/\/[^ "]+$/;
        return urlPattern.test(link);
    }
</script>


<script>
    $(document).ready(function () {
        GetSocialMediaInfo();
    });
    function GetSocialMediaInfo(Id) {

        $("#CommunitySMId").val(Id);
        var Obj = {
            Id: Id
        }
        var Aurl = "/Community/GetSocialMediaInfo";
        $.ajax({
            type: "Get",
            url: Aurl,
            data: Obj,
            success: function (Result) {

                var status = Result.success;
                if (status == true) {


                    $('#txtFacebook').val(Result.data.facebook);
                    $('#txtLinkedIn').val(Result.data.linkedIn);
                    $('#txtInstagram').val(Result.data.instagram);
                    $('#txtTiktok').val(Result.data.tikTok);
                    $('#txtTwitter').val(Result.data.twitter);
                    $('#txtYoutube').val(Result.data.youtube);
                    $("#CommunitySMId").val(Result.data.id);
                }
            },
            error: function (request, error) {
                $("#erroritem").modal("show");
                $("#errmsg1").text("Oops! something went wrong")
            }
        });
    }
</script>

<script type="text/javascript">
    var stafUpdateImage;

    function StaffImagereadURL(input) {

        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#blah').attr('src', e.target.result)
            };
            imagename = input.files[0].name;
            $('#lblstaffimg').val(imagename);
        }

    }

    //Validation for Phone number
    function validatePhone() {
        var phone = document.getElementById("phone").value;
        //var phonePattern = /^\+\d{8,15}$/;
        var phonePattern = /^(?:\+?\d{8,15}|\d{8})$/;



        if (phonePattern.test(phone)) {
            document.getElementById("phoneError").innerText = "";
        } else {
            document.getElementById("phoneError").innerText = "Invalid phone number";
        }
    }

    //Validation for Email
    function validateEmail() {
        var email = document.getElementById("email").value;
        var emailPattern = /^[a-zA-Z0-9._%+-]+@@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

        if (emailPattern.test(email)) {
            document.getElementById("emailError").innerText = "";
        } else {
            document.getElementById("emailError").innerText = "Invalid email address";
        }
    }


    $(document).ready(function () {
        function validateName() {
            var nameInput = document.getElementById('name');
            var nameError = document.getElementById('nameError');
            if (nameInput.value.trim() === '') {
                nameError.textContent = 'Name is required';
                return false; // Return false if validation fails
            } else {
                nameError.textContent = '';
                return true; // Return true if validation passes
            }
        }

        function validatePosition() {
            var positionInput = document.getElementById('position');
            var positionError = document.getElementById('positionError');
            if (positionInput.value.trim() === '') {
                positionError.textContent = 'Position is required';
                return false; // Return false if validation fails
            } else {
                positionError.textContent = '';
                return true; // Return true if validation passes
            }
        }

        $("#AddProfile").click(function (event) {
            event.preventDefault(); // Prevent default form submission

            // Validate inputs
            var isNameValid = validateName();
            var isPositionValid = validatePosition();

            // If both name and position are valid, proceed with form submission
            if (isNameValid && isPositionValid) {
                var Name = $('#name').val();
                var Position = $('#position').val();
                var Contact = $('#phone').val();
                var Email = $('#email').val();
                var ProfileImage = document.getElementById('profileimage');
                var About = $('#about').val();
                var formData = new FormData();
                formData.append("Name", Name);
                formData.append("Position", Position);
                formData.append("Contact", Contact);
                formData.append("Email", Email);
                formData.append("Mediafile", ProfileImage.files[0]);
                formData.append("About", About);
                $.ajax({
                    url: "/Community/AddCommunityStaff",
                    type: 'POST',
                    cache: false,
                    contentType: false,
                    processData: false,
                    data: formData,
                    dataType: 'json',
                    success: function (result) {
                        if (result.success == true) {
                            $("#AddTeamProfile").modal("hide");
                            window.location.href = '/Community/Community?id=communityStaff';
                        }
                        else {
                            $("#AddTeamProfile").modal("show");
                            $('.message-tab a[href="#TeamProfiles"]').tab("show");
                        }
                    }
                });
            }
        });
    });

    //DeleteCommunityStaff

    function deleteCommunityStaff(Id) {
        $("#delete-confimation").modal("show");
        $("#TeamProfileId").val(Id);
    }
    $(document).on("click", "#btnNo", function () {
        $("#delete-confimation").modal("hide");
    });
    $(document).on("click", "#btnYes", function () {
        var objdata = {
            Id: $("#TeamProfileId").val()
        }

        var Aurl = "/Community/DeleteCommunityStaff";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                if (Result.Status = true) {
                    $("#delete-confimation").modal("hide");
                    // $("#HyperNotPresent").modal("show");
                    // $("#itemaddheader").text('Active Booking Item!');
                    // $("#message").text(Result.message);
                    if (Result.success == true) {

                        var url = "/Community/GetTeamProfile";
                        $.ajax({
                            type: "Get",
                            url: url,
                            success: function (result) {
                                var data = result.data;
                                for (var i = 0; i < result.data.length; i++) {
                                    var newrow = "<tr><td>" + result.data[i].name + "<span class='ml-3' onclick='BindUpcoming(" + result.data[i].Id + ")' data-target='#edit-team-profile' data-toggle='modal'><img src='~/images/Edit-Square.png'></span></td><td>" + result.data[i].position + "</td><td>" + result.data[i].email + "</td><td>" + result.data[i].contact + "</td><td><span><img onclick='deleteCommunityStaff(" + result.data[i].Id + ")' src='~/images/Delete2.png'></span></td></tr>";

                                    $("#UpdatedTeamProfile tbody").append(newrow);
                                }
                                window.location.href = '/Community/Community?id=communityStaff';

                            }
                        });
                    }
                }
                else {
                    $("#delete-confimation").modal("hide");
                    $("#HyperNotPresent").modal("show");
                    $("#itemaddheader").text('Active Booking Item!');
                    $("#message").text(Result.message);
                }
            },
            error: function (request, error) {
                $("#Items-Added").modal("show");
                $("#itemaddheader").text('Something went wrong!');
                $("#message").text(error);
            }

        });
    });

    //EditForm

    // function UpdateStaffImagereadURL(input) {
    //
    //     if (input.files && input.files[0]) {
    //         var reader = new FileReader();
    //         reader.onload = function (e) {
    //             $('#blah').attr('src', e.target.result)
    //         };
    //         updateimagename = input.files[0].name;
    //         $('#lblStfImg').val(updateimagename);
    //     }

    // }

    function BindUpcoming(Id) {
        $("#TeamProfileId").val(Id);
        var objdata = {
            Id: Id
        }
        var Aurl = "/Community/GetCommunityStaffById";
        $.ajax({
            type: "Get",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                if (Result.status = true) {


                    $("#CommunityStaff").val(Result.data.id);
                    $("#stfName").val(Result.data.name);
                    $("#stfPosition").val(Result.data.position);
                    $("#stfPhone").val(Result.data.contact);
                    $("#stfEmail").val(Result.data.email);
                    var index = Result.data.profileImage.lastIndexOf("\\") + 1;
                    var filename = Result.data.profileImage.substr(index);
                    // stafUpdateImage=filename;
                    $('#lblStfImg').html(filename);
                    $("#stfAbout").val(Result.data.about);
                    $("#stfUpdate").text('Update');
                    $("#edit-team-profile").modal("show");
                }
                else {

                }
            },
            error: function (request, error) {

            }

        });
    }

    //Image name
    function UpdateStaffImagereadURL(input) {
        document.getElementById('lblStfImg').innerHTML = '';
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            updateimagename = input.files[0].name;
            document.getElementById('lblStfImg').innerHTML = input.files[0].name
            $('#lblStfImg').val(updateimagename);

        }
    }


    //Validation for Phone StaffPhoneNumber
    function validateStaffPhone() {
        var phone = document.getElementById("stfPhone").value;
        //var phonePattern = /^\+\d{8,15}$/;
        var phonePattern = /^(?:\+?\d{8,15}|\d{8})$/;

        if (phonePattern.test(phone)) {
            document.getElementById("phoneStaffError").innerText = "";
        } else {
            document.getElementById("phoneStaffError").innerText = "Invalid phone number";
        }
    }

    //Validation for Update StaffEmail
    function validateStaffEmail() {
        var email = document.getElementById("stfEmail").value;
        var emailStaffPattern = /^[a-zA-Z0-9._%+-]+@@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

        if (emailStaffPattern.test(email)) {
            document.getElementById("emailStaffError").innerText = "";
        } else {
            document.getElementById("emailStaffError").innerText = "Invalid email address";
        }
    }

    $(document).on("click", "#stfUpdate", function () {
        var CommunityStaffId = $("#TeamProfileId").val();
        var Name = $('#stfName').val();
        var Position = $('#stfPosition').val();
        var Contact = $('#stfPhone').val();
        var Email = $('#stfEmail').val();
        var About = $('#stfAbout').val();

        var formData = new FormData();
        formData.append("Id", CommunityStaffId);
        formData.append("Name", Name);
        formData.append("Position", Position);
        formData.append("Contact", Contact);
        formData.append("Email", Email);
        formData.append("ProfileImg", document.getElementById('txtImg').files[0]);
        formData.append("About", About);

        var Aurl = "/Community/UpdateCommmunityStaff";
        $.ajax({
            url: Aurl,
            type: "Post",
            contentType: false,
            cache: false,
            processData: false,
            data: formData,
            dataType: "json",
            success: function (Result) {
                var status = Result.success;
                if (status == true) {
                    $("#HyperNotPresent").modal("show");
                    $("#edit-team-profile").modal("hide");
                    $("#itemaddheader").text("Top! job");
                    $("#message").text("You’ve successfully updated this event");
                    window.location.href = '/Community/Community?id=communityStaff';
                }
                else {
                    $("#HyperNotPresent").modal("show");
                    $("#itemaddheader").text("Oops!");
                    $("#message").text("Something went wrong");
                }
            },

            error: function (request, error) {
                $("#HyperNotPresent").modal("show");
                $("#itemaddheader").text("Oops!");
                $("#message").text("Something went wrong");
            }
        });

    });


</script>


<script>

    //ForStudent
    function commSelectType2(statusId, Customerid) {
        var id = statusId.value;
        var userId = Customerid;

        var Aurl = "/Community/ChangeCustomersubScriptionStatus";

        $.post(Aurl, { UserId: userId, SubscriptionStatusId: id }, function (result) {
            window.location.href = '/Community/Community?id=student';
        });
    }

    //ForParent
    function commSelectType3(statusId, Customerid) {
        var id = statusId.value;
        var userId = Customerid;

        var Aurl = "/Community/ChangeCustomersubScriptionStatus";

        $.post(Aurl, { UserId: userId, SubscriptionStatusId: id }, function (result) {
            window.location.href = '/Community/Community?id=parent';
        });
    }


    //ForAlumni
    function commSelectType(statusId, Customerid) {
        var id = statusId.value;
        var userId = Customerid;

        var Aurl = "/Community/ChangePaymentStatus";

        $.post(Aurl, { UserId: userId, paymentStatusId: id }, function (result) {
            window.location.href = '/community/community?id=alumni';
        });

    }

    //ForMember
    function commSelectType4(statusId, Customerid) {
        var id = statusId.value;
        var userId = Customerid;

        var Aurl = "/Community/ChangeCustomersubScriptionStatus";

        $.post(Aurl, { UserId: userId, SubscriptionStatusId: id }, function (result) {
            window.location.href = '/Community/Community?id=member';
        });
    }
</script>


<script type="text/javascript">

    $('#NewCustomerGroup').click(function () {
        var GroupName = $('#newGroup').val();

        var formData = new FormData();
        formData.append("GroupName", GroupName);

        $.ajax({
            url: '/Community/AddNewCustomerGroup',
            type: 'POST',
            cache: false,
            contentType: false,
            processData: false,
            data: formData,
            dataType: 'json',
            success: function (result) {
                $('#AddCustomgroup').modal('hide');
                window.location.href = '/community/community?id=customGrp';


            },
            error: function () {

            }
        });
    });

    function ShowCustomGroup(Id) {
        var n = 0;
        var formData = {
            Id: Id
        }

        $("#custom-groups-name tr td a").removeClass("active-bold");
        $(`#${Id}`).addClass("active-bold");
        $.ajax({
            url: '/Community/ShowCustonGroup',
            type: 'POST',
            data: formData,
            dataType: 'json',
            success: function (result) {

                var rows = '';
                if (result.success == true) {
                    $('#userCount').text("Member name (" + result.data.length + " Members)");
                    for (var i = 0; i < result.data.length; i++) {
                        n = 1;
                        rows += "<tr><td>" + result.data[i].firstName + " " + result.data[i].lastName + "</td><td>" + result.data[i].mobile + "</td><td><span><img src='/images/Delete2.png'> </span></td></tr>"
                    }
                    if (n == 0) {
                        rows = "<tr><td>No data available in table</td></tr>";
                    }
                    //   rows += '</tbody>'
                    $(".lstCustomGroup").html(rows);
                }

            },
            error: function () {

            }
        });
    }

    function ShowCustomGroup2(Id) {
        localStorage.setItem('customGroupNameId', 'Group2_' + Id)
        var n = 0;
        var formData = {
            Id: Id
        }
        $.ajax({
            url: '/Community/ShowCustomGroupList',
            type: 'POST',
            data: formData,
            dataType: 'json',
            success: function (result) {

                var rows = '';
                if (result.success == true) {
                    //
                    // $('#userCount').val(result.data.length);
                    $('#userCount').text("Member name (" + result.data.length + " Members)");
                    for (var i = 0; i < result.data.length; i++) {
                        n = 1;
                        rows += "<tr><td>" + result.data[i].FirstName + " " + result.data[i].LastName + "</td><td>" + result.data[i].MobileNumber + "</td><td><span><img  src='/images/Delete2.png' onclick='DeleteUserFromGroup(" + result.data[i].Id + ")'></span></td></tr>"
                    }
                    if (n == 0) {
                        rows = "<tr><td>No data available in table</td></tr>";
                    }
                    $(".lstCustomGroup").html(rows);
                }
            },
            error: function () {

            }
        });
    }


    function dltcustomgroup(Id) {
        $("#deleteSuccessfull").modal("show");
        $("#customGroupdlt").val(Id);
    }
    $(document).on("click", "#deltCustomGrpNo", function () {
        $("#deleteSuccessfull").modal("hide");
    });

    $(document).on("click", "#deltCustomGrpYes", function () {
        var objdata = {
            Id: $("#customGroupdlt").val()
        }

        var Aurl = "/Community/DeleteCustomGroup";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                if (Result.Status = true) {
                    $("#deleteSuccessfull").modal("hide");
                    $("#CustomItems-Added").modal("show");
                    $("#customDltItem").text('Custom Group Deleted!');
                    $("#customMessages").text(Result.customMessages);
                    window.location.href = '/community/community?id=customGrp';
                }
                else {
                    $("#deleteSuccessfull").modal("hide");
                    $("#CustomItems-Added").modal("show");
                    $("#customDltItem").text('Custom Group Deleted!');
                    $("#customMessages").text(Result.customMessages);
                }
            },
            error: function (request, error) {
                $("#CustomItems-Added").modal("show");
                $("#customDltItem").text('Something went wrong!');
                $("#customMessages").text(error);
            }

        });
    });



    ///linked member

    $(function () {
        $("#membername").autocomplete({
            source: function (request, response) {
                var searchList = $('#membername').val()
                var formdata = new FormData();
                formdata.append('Search', searchList);
                $.ajax({
                    url: '/Community/GetUserContactList',
                    data: formdata,
                    dataType: "json",
                    type: "POST",
                    contentType: false,
                    processData: false,
                    dataFilter: function (Result) { return Result; },
                    success: function (Result) {

                        var Spont = Result[0].customerId;
                        $("#Searchcustomerid").val(Spont);


                        response($.map(Result, function (item) {
                            return {
                                label: item.name + "(" + item.mobile + ")",
                                value: item.userId

                                //value: item.mobile,
                            }
                        }))
                    },
                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                        var err = eval("(" + XMLHttpRequest.responseText + ")");
                        //$('#wentWorng').modal('show');
                        //$("#ErrorMessage").html("OOPS! Something went Wrong");
                    }
                });

            },
            select: function (e, i, s) {
                selectsearch(i.item.value, i.item.label);

                return false;
            },
            focus: function (event, ui) {
                event.preventDefault();
                // $('#membername').val(ui.item.label);
            },
            minLength: 1 //This is the Char length of inputTextBox
        });

    });
    $("#SearchStudent").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $("#txtstudent tr").filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });

    $("#SearchParents").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $("#txtparents tr").filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });

    $("#SearchAlumni").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $("#txtAlumni tr").filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });

    $("#SearchMembers").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $("#txtMembers tr").filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });

    $("#SearchInActive").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $("#txtInActive tr").filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });

    $("#SearchBusinessIndex").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $("#txtBusinessIndex tr").filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });

    $("#SearchJobPosting").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $("#txtJob tr").filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });

    $("#SearchRequest").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $("#txtrequest tr").filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });

    function checkedapproved(Id) {
        var objdata = {
            IsBusinessApproved: true,
            Id: Id
        }
        var Aurl = "/Community/UpdateBusinessApproved";

        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            dataType: "json",
            success: function (Result) {
                if (Result.success == true) {

                    window.location.href = '/Community/Community?id=business';
                }
                else {

                }
            },
            error: function (request, error) {

            }
        });
    }

    function uncheckedapproved(Id) {
        var objdata = {
            IsBusinessApproved: false,
            Id: Id
        }
        var Aurl = "/Community/UpdateBusinessApproved";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            dataType: "json",
            success: function (Result) {
                if (Result.success == true) {
                    window.location.href = '/Community/Community?id=business';
                }
                else {

                }
            },
            error: function (request, error) {
                // $.unblockUI();
                //$('#ErrorMessages').text(Result.Message);
                //$('.message-danger').text(request.Message);
                //$('#btnsecurity').attr('disabled', false);
                //$('.preloader').removeClass('show').addClass('hide');
            }
        });
    }

    //JobIsApproved CheckBox functionality

    function jobcheckedapproved(Id) {
        var objdata = {
            IsApproved: true,
            Id: Id
        }
        var Aurl = "/Community/UpdateJobApproved";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            dataType: "json",
            success: function (Result) {
                if (Result.success == true) {
                    window.location.href = '/Community/Community?id=job';
                }
                else {

                }
            },
            error: function (request, error) {

            }
        });
    }

    function jobuncheckedapproved(Id) {
        var objdata = {
            IsApproved: false,
            Id: Id
        }
        var Aurl = "/Community/UpdateJobApproved";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            dataType: "json",
            success: function (Result) {
                if (Result.success == true) {
                    window.location.href = '/Community/Community?id=job';
                }
                else {

                }
            },
            error: function (request, error) {
                // $.unblockUI();
                //$('#ErrorMessages').text(Result.Message);
                //$('.message-danger').text(request.Message);
                //$('#btnsecurity').attr('disabled', false);
                //$('.preloader').removeClass('show').addClass('hide');
            }
        });
    }

</script>


<script>

    //-------------start ActiveFundraisers------

    //delete active fundreaiser
    var deletefundid;
    function DeleteArchivedFunraiser(id) {
        $("#deletefunding").modal('show');
        deletefundid = id;
        $("#deletefundid").val(deletefundid);
    }
    function onyesdeletefunding() {

        var objdata =
        {
            id: deletefundid
        }


        var Aurl = "/Community/DeleteArchiveFundraisers";
        $.ajax({
            type: "POST",
            url: Aurl,
            data: objdata,

            success: function (success) {

                if (success.success == true) {

                    GetArchiveFundraisers();
                    $('.message-tab a[href="#ArchivedFundraisers"]').tab("show");
                    $("#deletefunding").modal('hide');
                }
                else {
                    $("#itemaddheader").text("Oops!");
                    $("#message").text("Something went wrong");
                }
            },
            error: function (request, error) {
                $("#itemaddheader").text("Oops!");
                $("#message").text("Something went wrong");
            }
        });

    }
    function onnodeletefunding() {
        $("#deletefunding").modal('hide');
        GetArchiveFundraisers();
        $('.message-tab a[href="#ArchivedFundraisers"]').tab("show");

    }

    var globalgetid;

    function onviewfundraisers(Id) {

        globalgetid = Id;
        var objdata =
        {
            Id: Id
        }

        var Aurl = "/Community/ViewFundraisers";
        $.ajax({

            type: "Get",
            url: Aurl,
            data: objdata,
            dataType: "json",
            success: function (Result) {

                var status = Result.success;


                if (status == true) {
                    $('.addimg-area').show();
                    $('#txttitle').val(Result.data[0].title);


                    if (Result.data[0].fundraiserTypeId == 102) {
                        $('#hyperlinkforset').hide();
                    } else {
                        $('#hyperlinkforset').show();
                    }
                    $('#expiredateidforset').show();
                    var ExpiryDate = Result.data[0].expiryDate;
                    var parts = ExpiryDate.split("T");
                    var datePart = parts[0];
                    var dateParts = datePart.split("-");
                    var year = dateParts[0];
                    var month = dateParts[1];
                    var day = dateParts[2];
                    var formattedDate = day + "." + month + "." + year;

                    $('#datefrom').val(formattedDate);
                    $('#updateId').val(Result.data[0].id);
                    $('#txtdescription').val(Result.data[0].description);
                    $('#txthyperlink').val(Result.data[0].formLink);

                    var txtamountdecimal = Result.data[0].amount;
                    $('#txtamount').val(txtamountdecimal.toFixed(2));


                    var indexpdf = Result.data[0].pdfLink.lastIndexOf("\\") + 1;
                    var filenameWithExtension = Result.data[0].pdfLink.substr(indexpdf);
                    var match = filenameWithExtension.match(/([^_]+)_\w+\./);
                    var filename = match ? match[1] : filenameWithExtension;
                    $('#pdfnameddl').html(filename);



                    $('#listImages04').empty();
                    for (i = 0; i < Result.data.length; i++) {
                        if (Result.data[i] && Result.data[i].images && Result.data[i].images.length > 0) {
                            for (j = 0; j < Result.data[i].images.length; j++) {
                                var index = Result.data[i].images[j].imagePath.lastIndexOf("\\") + 1;
                                var filename = Result.data[i].images[j].imagePath.substr(index);
                                var imagePath1 = Result.data[i].images[j].imagePath;
                                //  console.log(imagePath1);
                                var html = '<li class=" imgcomm-block "><img class="test" src="' + imagePath1 + '"/><div class="cross-icon image-icon pl-1 "><button type="button" class="cross" id="savemultipleimages" onclick="dltCircleInfoItems2(' + Result.data[i].images[j].id + ')"><span aria-hidden="true" >×</span></button></div><p class="text-overr">' + filename + '</p></li>';
                                $('#listImages04').append(html);
                            }
                        }
                    }



                    $('#EditCampaign').modal('show');
                }
                else {
                    $('#erroritem').modal('show');
                    $("#errmsg1").html("OOPS! Something Went Wrong.");
                }
            },
            error: function (request, error) {
                $('#erroritem').modal('show');
                $("#errmsg1").html("OOPS! Something Went Wrong.");
            }
        });

    }



   





    var selectfundrasier;
    function Getselectedfundrasier() {
        var sele = $("#selectedfundrasier").val();
        selectfundrasier = sele;
    }


    //get active fundraiser

    function GetFundraisers() {

        var valuetitle;
        var Aurl = "/Community/Fundraisers";

        $.ajax({
            type: "Get",
            url: Aurl,
            success: function (Result) {

                var status = Result.success;

                if (status == true) {

                    var rows = '';
                    for (i = 0; i < Result.data.length; i++) {


                        var globalgetid = Result.data[i].id;



                        var txtactive = Result.data[i].amount;
                        var abcd = '@Model.currencyModel.CurrencyCode' + txtactive.toFixed(2);



                        rows += "<tr><td style='display:none'>" + Result.data[i].id + "</td><td class='text-left'>" + Result.data[i].title + " <img src='/images/Edit-Square.png' onclick='onviewfundraisers(" + Result.data[i].id + ")' id='popupviewiconactive'></td><td>" + Result.data[i].typeOfFundraiser + "</td><td>" + abcd + "</td><td onclick='GetViewPaymentsMethod(" + Result.data[i].id + ", \"" + Result.data[i].title + "\")'><a> Click To View </a></td><td><span><img src='/images/select-arrow.png' onclick='OnArchiveFund(" + Result.data[i].id + ")'></span></td></tr>";


                    }

                    $('#Active-Fundraisers tbody').html(rows);

                    var oTable = $('#Active-Fundraisers').DataTable();
                    if (oTable != undefined && oTable != null) {

                        oTable.destroy();
                        oTable = null;
                        $('#Active-Fundraisers tbody').html(rows);
                        var tab = $('#Active-Fundraisers').DataTable({
                            "order": [[0, "desc"]],
                            searching: false,
                            pagination: false,

                            "dom": 'rt<"bottom"flp><"bottom"i>'
                        });

                    }
                    else {
                        $('#communitydate2_length').hide();
                        window.location.href = '/Community/Community?id=save';
                    }

                }

            }
        });
    }

    function viewaccountdata() {
        $("#PayemntsProduct").modal("show");
    }

    var imgname;
    function ImageURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#blah').attr('src', e.target.result)
            };
            imagename = input.files[0].name;
            $('#lblimagepath').val(imagename);
            imgname = imagename;


        }

    }



    function PDFURLS1(input) {
        document.getElementById('txtpdfsdoc').innerHTML = '';
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            updateimagename = input.files[0].name;
            document.getElementById('txtpdfsdoc').innerHTML = input.files[0].name
            $('#txtpdfsdoc').val(updateimagename);
        };
    }

    $("#logo-uploadAccount .custom-file-upload span").show();
    $("#logo-uploadAccount input").change(function () {
        $("#logo-uploadAccount .custom-file-upload span").show();
        $("#logo-uploadAccount .custom-file-upload span").text(this.files[0].name);
    });


    function ddlupdatecompaign() {

        //post
        var Title = $('#txttitle').val();
        var Amount = $('#txtamount').val();
        var Expiredate = $('#datefrom').val();
        var PDFLink = document.getElementById('txtpdfsdoc');
        var Description = $('#txtdescription').val();
        var FormLink = $('#txthyperlink').val();
        var IdS = $('#updateId').val();
        var Organizer = $('#contactperson').val();
        var images = document.getElementById('txtimagepath');
        var formdata = new FormData();


        formdata.append('Title', Title);
        formdata.append('Amount', Amount);
        formdata.append('ExpiryDate', returndateformat(Expiredate).split(".").reverse().join("/"));
        formdata.append("pdf", PDFLink.files[0]);
        formdata.append('Description', Description);
        formdata.append('FormLink', FormLink);
        formdata.append('Id', IdS);
        formdata.append('OrganizerId', Organizer);
        formdata.append('ImagePath', images.files[0]);



        var Aurl = "/Community/UpdateFundraisers";
        $.ajax({
            type: "POST",
            url: Aurl,
            data: formdata,
            contentType: false,
            processData: false,
            dataType: "json",
            success: function (Result) {

                if (Result.success == true) {


                    $('#EditCampaign').modal('hide');
                    $("#HyperNotPresent").modal("show");
                    $("#itemaddheader").text('Your campaign is LIVE');
                    $("#message").text(Result.message);

                    GetFundraisers();
                    $('.message-tab a[href="#ActiveFundraisers"]').tab("show");
                }
            },
            error: function (request, error) {
                $('#EditCampaign').modal('hide');
                $("#HyperNotPresent").modal("show");
                $("#itemaddheader").text('Your campaign is LIVE');
                $("#message").text('Your campaign has been updated successfully');

            }
        });
    }


    //archived fundraiser
    function OnArchiveFund(id) {

        var objdata =
        {
            Id: id
        }
        var Aurl = "/Community/ArchiveFundraisers";
        $.ajax({
            type: "POST",
            url: Aurl,
            data: objdata,

            success: function (success) {

                if (success.success == true) {
                    GetArchiveFundraisers();
                    $('.message-tab a[href="#ArchivedFundraisers"]').tab("show");
                    GetFundraisers();
                }
                else {
                    $("#itemaddheader").text("Oops!");
                    $("#message").text("Something went wrong");
                }
            },
            error: function (request, error) {
                $("#itemaddheader").text("Oops!");
                $("#message").text("Something went wrong");
            }
        });

    }


    //View Payments
    function GetViewPaymentsMethod(id, title) {

        var txtaccount;

        var objdata =
        {
            Id: id
        }

        var Aurl = "/Community/ViewPayments";

        $.ajax({
            type: "Get",
            url: Aurl,
            data: objdata,
            success: function (Result) {

                var status = Result.success;

                Amountrequested = 0;
                AmountCollected = 0;
                TotalCollected = 0;

                if (status == true) {
                    var rows = '', check = '', collected = '', tfoots = '';
                    for (i = 0; i < Result.data.length; i++) {

                        Amountrequested += parseFloat(Result.data[i].productPrice);
                        AmountCollected += parseFloat(Result.data[i].collectedAmount);

                        var ddlprice = Result.data[i].productPrice;
                        var ddlpricetxt = '@Model.currencyModel.CurrencyCode' + ddlprice.toFixed(2);

                        var ddlpricecollected = Result.data[i].collectedAmount;

                        //console.log(Result.data[i].collectedAmount);
                        var ddlpricetxtcollecter = '@Model.currencyModel.CurrencyCode' + ddlpricecollected.toFixed(2);




                        TotalCollected += parseFloat(Result.data[i].totalCollected);
                        if (Result.data[i].markCollected == true) {
                            check = '<input type="checkbox" class="styled-checkbox green-checkbox" checked id="chkScanner" onclick=checkScannercommunity(' + Result.data[i].fundraiserCollectionId + ')><label for="styled-checkbox-1" ></label>';
                        }
                        else {
                            check = '<input type="checkbox" id="chkScanners" class="styled-checkbox green-checkbox" onclick=UncheckScannercommunity(' + Result.data[i].fundraiserCollectionId + ')><label for="styled-checkbox-1"></label>';
                        }


                        rows += "<tr><td> " + check + "</td> <td>" + Result.data[i].recipientDate + "</td> <td>" + Result.data[i].payeeName + "</td> <td>" + Result.data[i].mobile + "</td> <td>" + Result.data[i].recipientName + "</td> <td>" + Result.data[i].mobile + "</td> <td>" + ddlpricetxt + "</td> <td>" + ddlpricetxtcollecter + "</td></tr>";

                    }
                    tfoots = "<tr><th>" + TotalCollected + " </th><th colspan='5'></th><th>@Model.currencyModel.CurrencyCode" + Amountrequested.toFixed(2) + "</th><th>@Model.currencyModel.CurrencyCode" + AmountCollected.toFixed(2) + "</th></tr>"


                    $("#txtdatacoount").text(title);

                    $('#Payment-product tbody').html(rows);
                    $("#FundraiserAmounts").html(tfoots);
                    $("#PayemntsProduct").modal("show");


                    var oTable = $('#Payment-product').DataTable();
                    if (oTable != undefined && oTable != null) {

                        oTable.destroy();
                        oTable = null;
                        $('#Payment-product tbody').html(rows);
                        var tab = $('#Payment-product').DataTable({
                            "order": [[0, "desc"]],
                            "dom": 'rt<"bottom"flp><"bottom"i>'
                        });

                    }
                    else {
                        $('#communitydate2_length').hide();
                    }


                }
            }

        });

    }




    function checkScannercommunity(fundraiserCollectionId) {

        var IsActivescanner;
        IsActivescanner = 0;

        var formData = new FormData();
        formData.append("Id", fundraiserCollectionId);
        formData.append("Iscollected", IsActivescanner);

        var Aurl = "/Community/UpdateIsCollected";
        $.ajax({
            type: "POST",
            url: Aurl,
            data: formData,
            contentType: false,
            processData: false,
            dataType: "json",
            success: function (Result) {
                if (Result.success == true) {

                    window.location.href = '/Community/Community?id=checkUM'
                }
            },
            error: function (request, error) {
                $("#erroritem").modal("show");
                $("#errmsg1").text("Oops! something went wrong");
            }
        });

    }
    function UncheckScannercommunity(fundraiserCollectionId) {


        var IsActivescanner;
        IsActivescanner = 1;


        var formData = new FormData();
        formData.append("Id", fundraiserCollectionId);
        formData.append("Iscollected", IsActivescanner);

        var Aurl = "/Community/UpdateIsCollected";
        $.ajax({
            type: "POST",
            url: Aurl,
            data: formData,
            contentType: false,
            processData: false,
            dataType: "json",
            success: function (Result) {
                if (Result.success == true) {

                    window.location.href = '/Community/Community?id=checkUM'

                }
            },
            error: function (request, error) {
                $("#erroritem").modal("show");
                $("#errmsg1").text("Oops! something went wrong")
            }
        });

    }
    ///-------------end ActiveFundraisers------






    ///-------------start AchivedFundraisers----

    //get Archived fundraiser
    function GetArchiveFundraisers() {

        var Aurl = "/Community/ArchiveFundraisersactive";

        $.ajax({
            type: "Get",
            url: Aurl,
            success: function (Result) {

                var status = Result.success;


                if (status == true) {

                    var rows = '';
                    for (i = 0; i < Result.data.length; i++) {


                        var decimalamount = Result.data[i].amount;
                        var xyz = '@Model.currencyModel.CurrencyCode' + decimalamount.toFixed(2)
                        rows += "<tr><td style='display:none'>" + Result.data[i].id + "</td><td class='text-left'>" + Result.data[i].title + " <img src='/images/Show.png' onclick='onviewAchivedfundraisers(" + Result.data[i].id + ")'></td><td>" + Result.data[i].typeOfFundraiser + "</td><td>" + xyz + "</td><td onclick='GetViewPaymentsMethod(" + Result.data[i].id + ", \"" + Result.data[i].title + "\")'> Click To View </td><td><img src='/images/Delete2.png' onclick='DeleteArchivedFunraiser(" + Result.data[i].id + ")'/></td></tr>";
                    }

                    $('#Archived-Fundraisers tbody').html(rows);

                    var oTable = $('#Archived-Fundraisers').DataTable();
                    if (oTable != undefined && oTable != null) {

                        oTable.destroy();
                        oTable = null;
                        $('#Archived-Fundraisers tbody').html(rows);
                        var tab = $('#Archived-Fundraisers').DataTable({
                            "order": [[0, "desc"]],
                            searching: false,
                            pagination: false,

                            "dom": 'rt<"bottom"flp><"bottom"i>'
                        });

                    } else {
                        $('#communitydate2_length').hide();
                    }


                }
            }

        });

    }


    //view of archived



    function onviewAchivedfundraisers(Id) {
        var objdata =
        {
            Id: Id
        }

        var Aurl = "/Community/ViewArchivedFundraisers";
        $.ajax({

            type: "Get",
            url: Aurl,
            data: objdata,
            dataType: "json",
            success: function (Result) {

                var status = Result.success;

                if (status == true) {


                    $('#txtarchivedtitle').val(Result.data[0].title);
                    $("#txtarchivedtitle").attr("readonly", "readonly");


                    if (Result.data[0].fundraiserTypeId == 102) {
                        $('#archiveexpiredate').hide();
                        $('#archivehyperlink').hide();
                    } else {
                        $('#archiveexpiredate').show();
                        $('#archivehyperlink').show();
                    }

                    var ArchiveExpiryDate = Result.data[0].expiryDate;
                    var parts = ArchiveExpiryDate.split("T");
                    var datePart = parts[0];
                    var dateParts = datePart.split("-");
                    var year = dateParts[0];
                    var month = dateParts[1];
                    var day = dateParts[2];
                    var formattedDate = day + "." + month + "." + year;
                    $('#txtarchivedexpire').val(formattedDate);
                    $("#txtarchivedexpire").attr("readonly", "readonly");




                    var index = Result.data[0].pdfLink.lastIndexOf("\\") + 1;
                    var filename = Result.data[0].pdfLink.substr(index);
                    $('#txtArchivePdf').val(filename);
                    $("#txtArchivePdf").attr("readonly", "readonly");

                    $('#txtArcivedDescription').val(Result.data[0].description);
                    $("#txtArcivedDescription").attr("readonly", "readonly");

                    $('#txtArchivedHyperlink').val(Result.data[0].formLink);
                    $('#txtArchivedHyperlink').attr("readonly", "readonly");

                    var decimalvar = Result.data[0].amount;
                    $('#txtarchivedamount').val(decimalvar.toFixed(2));
                    $('#txtarchivedamount').attr("readonly", "readonly");

                    $('#txtArchivedPerson').val(Result.data[0].organizerName);
                    $('#txtArchivedPerson').attr("readonly", "readonly");






                    $('#listImagesarchive').empty();
                    for (i = 0; i < Result.data.length; i++) {

                        if (Result.data[i] && Result.data[i].images && Result.data[i].images.length > 0) {
                            for (j = 0; j < Result.data[i].images.length; j++) {
                                var index2 = Result.data[i].images[j].imagePath.lastIndexOf("\\") + 1;
                                var filename2 = Result.data[i].images[j].imagePath.substr(index);

                                var imagePath1 = Result.data[i].images[j].imagePath;
                                var html = '<li class=" imgcomm-block "><img class="test" src="' + imagePath1 + '"/><div class="cross-icon image-icon pl-1"></div><p class="text-overr">' + filename2 + '</p></li>';
                                $('#listImagesarchive').append(html);
                            }
                        }
                    }


                    $('#Reviewarchived').modal('show');


                }
                else {
                    $('#erroritem').modal('show');
                    $("#errmsg1").html("OOPS! Something Went Wrong.");
                }
            },
            error: function (request, error) {
                $('#erroritem').modal('show');
                $("#errmsg1").html("OOPS! Something Went Wrong.");
            }
        });

    }




    $('#ActiveCross').click(function (e) {
        $('.message-tab a[href="#Members"]').tab("show");

    })
    $('#Archivecross').click(function (e) {
        $('.message-tab a[href="#Members"]').tab("show");

    })

    //-------------Start Post A new Compaign------

    $("#txtcompaigntitle").on("keyup", function () {
        document.getElementById("txtcompaigntitle").style.border = "1px solid white";
    });
    $("#txtComapignamount").on("keyup", function () {
        document.getElementById("txtComapignamount").style.border = "1px solid white";
    });
    $("#txtcompaignperson").on("change", function () {
        document.getElementById("txtcompaignperson").style.border = "1px solid white";
    });


    var croppers = [];
    var fileImgNames = [];
    var fileType = [];
    var fileName;
    var i;



    function ProductreadURL(input) {
        $('.addimg-area').show();
        if (input.files && input.files.length > 0) {
            for (var i = 0; i < input.files.length; i++) {
                fileImgNames.push(input.files[i].name);
                //   console.log(fileImgNames);
                var reader = new FileReader();
                reader.onload = function (e) {
                    var imageSrc = e.target.result;
                    imagename = input.files[0].name;
                    var FileNameImageComm = $('#FileNameImageComm').val(input.files[0].name);
                    $('#Multipleimageid').append('<li class=" imgcomm-block "><img class="test" src="' + imageSrc + '"/><div class="cross-icon image-icon pl-1"><button type="button" class="cross"><span aria-hidden="true" onclick="Deleteproductmultiimage(this)">×</span></button></div><p class="text-overr" id="Dltimaenamecommfund">' + imagename + '</p></li>');

                    croppers.push(imageSrc);
                    //   console.log(croppers);
                };
                reader.readAsDataURL(input.files[i]);
            }
        }
    }

    function ProductreadURLS1(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#blah').attr('src', e.target.result)
            };
            pdfname = input.files[0].name;
            $('#pdfcommunity').val(pdfname);
        }

    }

    $("#logo-uploadAccount .custom-file-upload span").show();
    $("#logo-uploadAccount input").change(function () {
        $("#logo-uploadAccount .custom-file-upload span").show();
        $("#logo-uploadAccount .custom-file-upload span").text(this.files[0].name);
    });

    function validateHyperlink() {
        var hyperlink = document.getElementById("txtComapignhyperlink").value;
        var hyperlinkPattern = /^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/;

        if (hyperlinkPattern.test(hyperlink)) {
            document.getElementById("hyperlinkError").innerText = "";
        } else {
            document.getElementById("hyperlinkError").innerText = "Invalid hyperlink address";
        }
    }
    $(document).on("click", "#BtnPostCompaign", function () {

        var Title = $("#txtcompaigntitle").val();
        var CompaignPerson = $("#txtcompaignperson").val();
        var Amount = $("#txtComapignamount").val().replace('@Model.currencyModel.CurrencyCode', "");
        var ExpiryDate = $("#datefrom1").val();
        var Description = $("#txtComapigndescription").val();
        var Hyperlink = $("#txtComapignhyperlink").val();
        var Pdf = document.getElementById("pdfcommunity");
        var imageUrls = [];

        $('#Multipleimageid .test').each(function () {
            imageUrls.push($(this).attr('src'));
        });



        if (Title == 0) {
            $('#txtcompaigntitle').focus();
            document.getElementById("txtcompaigntitle").style.border = "1px solid red";
            return false;
        }
        if (CompaignPerson == 0) {
            $('#txtcompaignperson').focus();
            document.getElementById("txtcompaignperson").style.border = "1px solid red";
            return false;
        }
        if (Amount == "") {
            $('#txtComapignamount').focus();
            document.getElementById("txtComapignamount").style.border = "1px solid red";
            return false;
        }
        var currentDate = new Date();
        var currentTime = currentDate.toLocaleTimeString(); 

        var combinedExpiryDateTime = ExpiryDate + ' ' + currentTime;
        var formData = new FormData();

        formData.append("FundraiserTypeId", 101);
        formData.append("FundraiserTitle", Title);
        formData.append("OrganizerId", CompaignPerson);
        formData.append("ProductAmount", Amount);
       // formData.append("ExpiryDate", returndateformats(ExpiryDate));
          formData.append("ExpiryDate", combinedExpiryDateTime);
        formData.append("Description", Description);
        formData.append("FormHyperlink", Hyperlink);
        formData.append("PDFLink", Pdf.files[0]);


        for (var i = 0; i < croppers.length; i++) {
            var articleMediaItem = croppers[i];
            formData.append("Images[" + i + "].ImagePath", articleMediaItem);

            var articleMediafilename = fileImgNames[i];
            formData.append("Images[" + i + "].filename", articleMediafilename);
        }

        var Aurl = "/Community/PostNewCompaign";
        $.ajax({
            type: "Post",
            url: Aurl,
            cache: false,
            contentType: false,
            processData: false,
            data: formData,
            dataType: "json",
            success: function (Result) {
                var status = Result.success;
                if (status == true) {
                    $('#PostNewCampaign').modal("hide");
                    $("#HyperNotPresent").modal("show");

                    $('#selectedfundrasier').val('');
                    $('#txtcompaigntitle').val('');
                    $('#txtcompaignperson').val('');
                    $('#txtComapignamount').val('');
                    $('#datefrom1').val('');
                    $('#txtComapignhyperlink').val('');
                    $('#txtComapigndescription').val('');
                    $('#txtProductImage').val('');
                    $('#txtspanidvalue').html('');
                    $('#PDFLink').val('');





                    $('#AddFundraiser').modal("hide");
                    $("#itemaddheader").text('Your campaign is LIVE!');
                    $("#message").text(Result.message);
                    GetFundraisers();
                    $('.message-tab a[href="#ActiveFundraisers"]').tab("show");

                    $('.addimg-area').hide();
                    $('#Multipleimageid').html('<img class="test" src="path_to_blank_image" alt="Blank Image">');
                    $('#Multipleimageid .test').remove();
                    $('#Multipleimageid').val('');

                }
                else {
                    $("#itemaddheader").text("Oops!");
                    $("#message").text("Something went wrong");
                }
            },
            error: function (request, error) {
                $("#itemaddheader").text("Oops!");
                $("#message").text("Something went wrong");
            }
        });
    });








   


    function Deleteproductmultiimage(button) {
        var $li = $(button).closest('.imgcomm-block');
        var indexToRemove = $li.index();
        croppers.splice(indexToRemove, 1);
        $li.remove();
        console.log(croppers);
    }
    //-------------end Post A new Compaign------


    $('.lblgrpname').click(function () {
        $("#custom-groups-name tr td a").removeClass("active-bold");
        $(this).addClass("active-bold");
        var xyz = $(this).attr('editvalue');

        $('#grpIDs').val(xyz);



    })

    $('#AddUserGrp').click(function () {
        var customerId = $("#Searchcustomerid").val();
        var Id = $('#grpIDs').val();

        var formdata = new FormData();
        formdata.append('CustomerId', customerId);
        formdata.append('GroupId', Id);



        $.ajax({
            url: '/Community/AddUserInGroup',
            type: 'POST',
            cache: false,
            contentType: false,
            processData: false,
            data: formdata,
            dataType: 'json',
            success: function (result) {
                window.location.href = '/community/community?id=customGrp';
            },
            error: function () {


            }
        });
    })





    //DeleteGroupUsers

    var DeleteGroupUserId;
    function DeleteUserFromGroup(Id) {

        $("#DeleteGroupUserID").val(DeleteGroupUserId);
        $('#groupUserDelete').modal('show');
        DeleteGroupUserId = Id;

    }

    //$(document).on("click", "#YesDeleteGroupUser", function () {
    function YesDeleteGroupUser() {

        var objdata =
        {
            Id: DeleteGroupUserId
        }

        var Aurl = "/Community/DeleteGroupUserItem";
        $.ajax({
            type: "POST",
            url: Aurl,
            data: objdata,

            success: function (success) {


                if (success.success == true) {
                    $('#groupUserDelete').modal('show');

                    setTimeout(function () {
                        window.location.href = '/community/community?id=customGrp';

                    }, 2500);
                }
                else {
                    $("#userDeleteMessage").text("Oops!");
                    $("#usermessage").text("Something went wrong");
                }
            },
            error: function (request, error) {
                $("#userDeleteMessage").text("Oops!");
                $("#usermessage").text("Something went wrong");
            }
        });

    }
    function NoDeleteGroupUser() {
        $("#groupUserDelete").modal('hide');
        setTimeout(function () {
            window.location.reload();
        }, 250);
    }



    //Linked Child Members

    function selectsearch(ID, name) {

        $("#membername").val(name)
        $('#first').val(ID)
        selectMemberLink(ID, name)
    }


    function selectMemberLink(ID, name) {

        $("#membername").val(name);
        $('#first').val(ID);

        var sslinkedMember = ID;
        var Url = '/Community/GetLinkedMembers';

        $.post(Url, { Id: sslinkedMember }, function (result) {



            // for(i=0; i< result.data.length; i++)
            // {
            //     console.log(result.data[i]);
            //     var Fullname = result.data[i].RequestToFirstName + ' ' + result.data[i].RequestToLastName;
            //     $(".test").append('<ol><li>'+Fullname+'</li></ol>');
            // }

            if (result.data) {

                $.each(result.data, function (index, value) {
                    var Fullname = value.RequestToFirstName + ' ' + value.RequestToLastName;

                    $(".test").append('<ol><li>' + Fullname + '</li></ol>');
                });
            }
            else if (RequestToFirstName == '' || RequestToLastName == '') {
                $(".linked-member").removeClass('active')
            }
        });
    }

    $("#membername").keypress(function () {

        $(".test").html('');

    })


    //Student Block or Unblock
    $(document).on("click", "#blockBtn", function () {
        var customerId = $(this).attr("editValue2");
        var objdata = {
            Isblocked: false,
            CustomerId: customerId

        }
        var Aurl = "/Community/UpdateIsBlock";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                $("#UpdateCommunityProfile").modal('show');
                window.location.href = '/Community/Community?id=student';
            },
            error: function (request, error) {


            }
        });
    });
    $(document).on("click", "#unblockBtn", function () {
        var customerId = $(this).attr("editValue2");
        var objdata = {
            Isblocked: true,
            CustomerId: customerId

        }
        var Aurl = "/Community/UpdateIsBlock";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                $("#UpdateCommunityProfile").modal('show');

                window.location.href = '/Community/Community?id=student';
            },
            error: function (request, error) {


            }
        });
    });


    //Parent Block or Unblock
    $(document).on("click", "#parentBlockBtn", function () {
        var customerId = $(this).attr("editValue2");
        var objdata = {
            Isblocked: false,
            CustomerId: customerId

        }
        var Aurl = "/Community/UpdateIsBlock";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                window.location.href = '/Community/Community?id=parent';
            },
            error: function (request, error) {


            }
        });
    });
    $(document).on("click", "#parentUnblockBtn", function () {
        var customerId = $(this).attr("editValue2");
        var objdata = {
            Isblocked: true,
            CustomerId: customerId

        }
        var Aurl = "/Community/UpdateIsBlock";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                window.location.href = '/Community/Community?id=parent';
            },
            error: function (request, error) {


            }
        });
    });


    //Alumni Block or unblock

    $(document).on("click", "#alumniBlockBtn", function () {
        var customerId = $(this).attr("editValue2");
        var objdata = {
            Isblocked: false,
            CustomerId: customerId

        }
        var Aurl = "/Community/UpdateIsBlock";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                window.location.href = '/community/community?id=alumni';
            },
            error: function (request, error) {

                //  console.log(error);
            }
        });
    });

    $(document).on("click", "#alumniUnblockBtn", function () {
        var customerId = $(this).attr("editValue2");
        var objdata = {
            Isblocked: true,
            CustomerId: customerId

        }
        var Aurl = "/Community/UpdateIsBlock";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                window.location.href = '/community/community?id=alumni';
            },
            error: function (request, error) {

                //  console.log(error);
            }
        });
    });



    //Members Block or Unblock
    $(document).on("click", "#memberBlockBtn", function () {

        var customerId = $(this).attr("editValue2");
        var objdata = {
            Isblocked: false,
            CustomerId: customerId

        }
        var Aurl = "/Community/UpdateIsBlock";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                window.location.href = '/Community/Community?id=member';
            },
            error: function (request, error) {

                //  console.log(error);
            }
        });
    });

    $(document).on("click", "#memberUnblockBtn", function () {

        var customerId = $(this).attr("editValue2");
        var objdata = {
            Isblocked: true,
            CustomerId: customerId

        }
        var Aurl = "/Community/UpdateIsBlock";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                window.location.href = '/Community/Community?id=member';
            },
            error: function (request, error) {

                //  console.log(error);
            }
        });
    });



    //For  Add Users In InActive Tab

    $(document).on("click", "#inactiveUnblockBtn", function () {

        var customerId = $(this).attr("editValue2");
        var objdata = {
            Isblocked: true,
            CustomerId: customerId

        }
        var Aurl = "/Community/AddIsBlock";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                window.location.href = '/Community/Community?id=member';
            },
            error: function (request, error) {

                console.log(error);
            }
        });
    });



</script>
<script>

    $(document).on("click", "#btnnetpost", function () {

        if (selectfundrasier == 101) {
            $('#PostNewCampaign').modal('show');
            $('#AddFundraiser').modal('show');
        }
        else {
            $('#postamountfundraiser').modal('show');
            $('#AddFundraiser').modal('show');
        }
    });




    $("#ddlammountfundtitle").on("keyup", function () {
        document.getElementById("ddlammountfundtitle").style.border = "1px solid white";
    });

    $("#ddlamountfundperson").on("change", function () {
        document.getElementById("ddlamountfundperson").style.border = "1px solid white";
    });
    $("#ddlamountgoal").on("keyup", function () {
        document.getElementById("ddlamountgoal").style.border = "1px solid white";
    });



    var cropp = [];
    var i;
    var fileImgNames;


    function producturlimage(input) {
        $('.addimg-area').show();
        if (input.files && input.files.length > 0) {
            for (var i = 0; i < input.files.length; i++) {
                fileImgNames.push(input.files[i].name);
                // console.log(fileImgNames);
                var reader = new FileReader();
                reader.onload = function (e) {
                    var imageSrc = e.target.result;
                    imagename = input.files[0].name;
                    var SetAmountFileNameImageComm = $('#SetAmountFileNameImageComm').val(input.files[0].name);
                    $('#SetAmountMultipleimageid').append('<li class=" imgcomm-block "><img class="test" src="' + imageSrc + '"/><div class="cross-icon image-icon pl-1"><button type="button" class="cross"><span aria-hidden="true" onclick="DDLDeleteSetMultipleImage(this)">×</span></button></div><p class="text-overr" id="lblimagename">' + imagename + '</p></li>');

                    cropp.push(imageSrc);
                    // console.log(cropp);
                };
                reader.readAsDataURL(input.files[i]);
            }
        }
    }





    function ProductAmountGoal(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#blah').attr('src', e.target.result)
            };
            pdfname = input.files[0].name;
            $('#pdfamountgaol').val(pdfname);
        }

    }

    $("#logo-uploadAccount .custom-file-upload span").show();
    $("#logo-uploadAccount input").change(function () {
        $("#logo-uploadAccount .custom-file-upload span").show();
        $("#logo-uploadAccount .custom-file-upload span").text(this.files[0].name);
    });





    $(document).on("click", "#txtfinalsetgoalpost", function () {

        var Title = $("#ddlammountfundtitle").val();
        var CompaignPerson = $("#ddlamountfundperson").val();
        var Amount = $("#ddlamountgoal").val().replace('@Model.currencyModel.CurrencyCode', "");
        var Description = $("#ddlamountdescription").val();
        var Pdf = document.getElementById("pdfamountgaol");
        var expiredate = $('#Expiredatesetamount').val();
        var setimageUrl = [];

        $('#SetAmountMultipleimageid .test').each(function () {
            setimageUrl.push($(this).attr('src'));
        });


        if (Title == "") {
            $('#ddlammountfundtitle').focus();
            document.getElementById("ddlammountfundtitle").style.border = "1px solid red";
            return false;
        }

        if (CompaignPerson == 0) {
            $('#ddlamountfundperson').focus();
            document.getElementById("ddlamountfundperson").style.border = "1px solid red";
            return false;
        }
        if (Amount == "") {
            $('#ddlamountgoal').focus();
            document.getElementById("ddlamountgoal").style.border = "1px solid red";
            return false;
        }

        var formData = new FormData();

        formData.append("FundraiserTypeId", 102);
        formData.append("FundraiserTitle", Title);
        formData.append("OrganizerId", CompaignPerson);
        formData.append("ProductAmount", Amount);
        formData.append("Description", Description);
        formData.append("PDFLink", Pdf.files[0]);
        formData.append("ExpiryDate", expiredate)

        for (var i = 0; i < cropp.length; i++) {
            var articleMediaItem = cropp[i];
            formData.append("Images[" + i + "].ImagePath", articleMediaItem);


            var setarticleMediafilename = fileImgNames[i];
            formData.append("Images[" + i + "].filename", setarticleMediafilename);
        }

        var Aurl = "/Community/PostNewAmountFund";
        $.ajax({
            type: "Post",
            url: Aurl,
            cache: false,
            contentType: false,
            processData: false,
            data: formData,
            dataType: "json",
            success: function (Result) {
                var status = Result.success;
                if (status == true) {


                    $('#postamountfundraiser').modal("hide");
                    $("#HyperNotPresent").modal("show");
                    $('#selectedfundrasier').val('');
                    $('#ddlammountfundtitle').val('');
                    $('#ddlamountfundperson').val('');
                    $('#ddlamountgoal').val('');
                    $('#ddlamountdescription').val('');
                    $('#Expiredatesetamount').val('');


                    $('#productamountimage').val('');
                    $('#pdfamountgaol').val('');
                    $('#ddlamountimage').val('');
                    $('#textspanfield').html('');


                    $('#AddFundraiser').modal("hide");
                    $("#itemaddheader").text('Your campaign is LIVE!');
                    $("#message").text(Result.message);
                    GetFundraisers();
                    $('.message-tab a[href="#ActiveFundraisers"]').tab("show");

                    $('.addimg-area').hide();
                    $('#SetAmountMultipleimageid').html('<img class="test" src="path_to_blank_image" alt="Blank Image">');
                    $('#SetAmountMultipleimageid .test').remove();
                    $('#SetAmountMultipleimageid').val('');



                }
                else {
                    $("#itemaddheader").text("Oops!");
                    $("#message").text("Something went wrong");
                }
            },
            error: function (request, error) {
                $("#itemaddheader").text("Oops!");
                $("#message").text("Something went wrong");
            }
        });
    });

    function DDLDeleteSetMultipleImage(button) {
        var $li = $(button).closest('.imgcomm-block');
        var indexToRemove = $li.index();
        croppers.splice(indexToRemove, 1);
        $li.remove();
        //  console.log(croppers);
    }


    $(document).on("change", '#txtimagepath', function (event) {

        readSection2ImageUrls(this);
    });

    function readSection2ImageUrls(input) {
        if (input.files && input.files[0]) {
            console.log(input.files[0]);
            var reader = new FileReader();
            reader.onload = function (e) {
                $(input).closest('.input-container').find("img").attr('src', e.target.result);
            };
            reader.readAsDataURL(input.files[0]);
            console.log(input.files[0]);
            saveSection2Img(input.files[0], input);
        }
    }

    function saveSection2Img(files, input) {
        var totalFiles = input.filePath;
        var ext = $(input).val().split('.').pop().toLowerCase();
        ImgSection2Uploads(files, input);
    }

    function ImgSection2Uploads(file, input) {

        var formData = new FormData();
        formData.append("FundraiserId", globalgetid);
        formData.append("ImagePath", file);
        $.ajax({
            type: "POST",
            url: '/Community/UploadImageAndFile5',
            data: formData,
            dataType: 'json',
            contentType: false,
            processData: false,
            success: function (success) {
                if (success.success == true) {


                    $('#lblimagepath').val('');
                    ddlupdatecompaignchange();

                }
                else {
                    $("#itemaddheader").text("Oops!");
                    $("#message").text("Something went wrong");
                }
            },
            error: function (error) {
                $("#itemaddheader").text("Oops!");
                $("#message").text("Something went wrong");
            }
        });
    }


    function ddlupdatecompaign() {

        //post
        var Title = $('#txttitle').val();
        var Amount = $('#txtamount').val();
        var Expiredate = $('#datefrom').val();
        var PDFLink = document.getElementById('txtpdfsdoc');
        var Description = $('#txtdescription').val();
        var FormLink = $('#txthyperlink').val();
        var IdS = $('#updateId').val();
        var Organizer = $('#contactperson').val();
        var images = document.getElementById('txtimagepath');
        var formdata = new FormData();
        var currentDate = new Date();
        var currentTime = currentDate.toLocaleTimeString();

        var combinedExpiryDateTimes = Expiredate + ' ' + currentTime;

        formdata.append('Title', Title);
        formdata.append('Amount', Amount);
        formdata.append('ExpiryDate', combinedExpiryDateTimes);
        formdata.append("pdf", PDFLink.files[0]);
        formdata.append('Description', Description);
        formdata.append('FormLink', FormLink);
        formdata.append('Id', IdS);
        formdata.append('OrganizerId', Organizer);
        formdata.append('ImagePath', images.files[0]);



        var Aurl = "/Community/UpdateFundraisers";
        $.ajax({
            type: "POST",
            url: Aurl,
            data: formdata,
            contentType: false,
            processData: false,
            dataType: "json",
            success: function (Result) {

                if (Result.success == true) {


                    $('#EditCampaign').modal('hide');
                    $("#HyperNotPresent").modal("show");
                    $("#itemaddheader").text('Your campaign is LIVE');
                    $("#message").text(Result.message);

                    GetFundraisers();
                    $('.message-tab a[href="#ActiveFundraisers"]').tab("show");
                }
            },
            error: function (request, error) {
                $('#EditCampaign').modal('hide');
                $("#HyperNotPresent").modal("show");
                $("#itemaddheader").text('Your campaign is LIVE');
                $("#message").text('Your campaign has been updated successfully');

            }
        });
    }





    function dltCircleInfoItems2(id) {

        var objdata =
        {
            Id: id
        }
        var Aurl = "/Community/DeleteCircleInfoItem2";
        $.ajax({
            type: "POST",
            url: Aurl,
            data: objdata,
            success: function (success) {

                if (success.success == true) {
                    ddlupdatecompaignchange();
                }
                else {

                }
            },
            error: function (request, error) {

            }

        });
    }


</script>
<script>

        $(document).ready(function () {
            if (window.location.href.indexOf("checkUM")) {
                $('.message-tab a[href="#Request"]').tab('show');
            }
    
    
        $(document).ready(function () {
            if (window.location.href.indexOf("Subscribemember")) {
                $('.message-tab a[href="#membersubs"]').tab('show');
            }


        });


 
        $(document).on("click", "#showdes", function () {
            var txt = jQuery(this).closest('tr').find('span:eq(0)').text();
            $("#txtDesc").text(txt);
            $("#descriptionsho").modal('show');
        });

</script>

<script>
    $('#btnRequestClose').click(function (e) {
        $('.message-tab a[href="#Request"]').tab("show");
    })
</script>

<script>




    function ActiveApprovedBtn(CustomerId) {

        var objdata = {
            IsPrimary: true,
            CustomerId: CustomerId
        }
        var Aurl = "/Community/SaveApproval";
        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            success: function (Result) {
                UpdateIsStatusmethod();
                $("#UpdateRequestMessage").modal('show');

                window.location.href = '/Community/Community?id=member';

            },
            error: function (request, error) {

                //    console.log(error);
            }
        });
    }

    function UpdateIsStatusmethod() {


        var Id = $('#txtupdateidstatus').val();
        var formData = new FormData();
        formData.append("Id", Id);
        formData.append("StatusId", 101);

        var Aurl = "/Community/UpdateIsStatus";
        $.ajax({
            type: "POST",
            url: Aurl,
            data: formData,
            contentType: false,
            processData: false,
            dataType: "json",
            success: function (Result) {
                if (Result.success == true) {
                    $("#UpdateRequestMessage").modal('show');
                    window.location.href = '/Community/Community?id=checkUM'
                }
            },
            error: function (request, error) {
                $("#erroritem").modal("show");
                $("#errmsg1").text("Oops! something went wrong");
            }
        });

    }

    function ActiveDeclineBtn() {


        var Id = $('#txtupdateidstatus').val();
        var formData = new FormData();
        formData.append("Id", Id);
        formData.append("StatusId", 103);

        var Aurl = "/Community/UpdateIsStatus";
        $.ajax({
            type: "POST",
            url: Aurl,
            data: formData,
            contentType: false,
            processData: false,
            dataType: "json",
            success: function (Result) {
                if (Result.success == true) {
                    $("#UpdateRequestDeclinedMessage").modal('show');

                    window.location.href = '/Community/Community?id=checkUM'
                }
            },
            error: function (request, error) {
                $("#erroritem").modal("show");
                $("#errmsg1").text("Oops! something went wrong");
            }
        });
    }


    function checkedIsAdmin(checkbox, customerId) {
        debugger;
        // $("#txtupdateidadmin").val(event.value);
        // var Id = event.value;
        // var chaeckbox = $("#Checkbox").is(':checked');
        // alert(chaeckbox);
        // if (chaeckbox == true)
        // {
        //     var isAdmin = false
        // }
        // var objdata = {
        //     Id: Id,
        //     isAdmin: isAdmin
        // };

        var isAdmin = checkbox.checked;

        var objdata = {
            Id: customerId,
            isAdmin: isAdmin
        };

        var Aurl = "/Community/UpdateIsAdmin";

        $.ajax({
            type: "Post",
            url: Aurl,
            data: objdata,
            dataType: "json",
            success: function (Result) {
                if (Result.success == true) {
                    window.location.href = '/Community/Community';
                }
                else {

                }
            },
            error: function (request, error) {

            }
        });
    }






</script>

