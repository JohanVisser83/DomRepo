@{
    Layout = "_Layout";
}




<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Exeeder Xe Community</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Place favicon.ico in the root directory -->
    <link rel="shortcut icon" type="image/x-icon" href="images/favicon.png">

    <!-- CSS here -->
    <link rel="stylesheet" href="~/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/css/animate.css">
    <link rel="stylesheet" href="~/css/custom-animation.css">
    <link rel="stylesheet" href="~/css/slick.css">
    <link rel="stylesheet" href="~/css/nice-select.css">
    <link rel="stylesheet" href="~/css/flaticon.css">
    <link rel="stylesheet" href="~/css/swiper-bundle.css">
    <link rel="stylesheet" href="~/css/meanmenu.css">
    <link rel="stylesheet" href="~/css/font-awesome-pro.css">
    <link rel="stylesheet" href="~/css/magnific-popup.css">
    <link rel="stylesheet" href="~/css/spacing.css">
    <link rel="stylesheet" href="~/css/style.css">

    <!--JS file-->

@*    <link  href="~/css/buttonLoader.css" rel="stylesheet" />
*@    @*<link rel="stylesheet" href="~/fonts/font-awesome.min.css">*@


    <script type="text/javascript" src="~/js/jquery.js"></script>
    <script type="text/javascript" src="~/js/jquery.min.js"></script>

    <script type="text/javascript" src="~/js/waypoints.js"></script>
    <script type="text/javascript" src="~/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="~/js/main.js"></script>
@*    <script type="text/javascript" src="~/js/jquery.buttonLoader.js"></script>
    <script type="text/javascript" src="~/js/jquery.buttonLoader.min.js"></script>*@




</head>

<body>

    <!-- preloader -->
    <div id="preloader">
        <div class="preloader">
            <span></span>
            <span></span>
        </div>
    </div>
    <!-- preloader end  -->
    <!-- back-to-top-start  -->
    <button class="scroll-top scroll-to-target" data-target="html">
        <i class="fas fa-chevron-up"></i>
    </button>
    <!-- back-to-top-end  -->


    <div class="body-overlay"></div>
    <!-- tp-offcanvus-area-end -->

    <div id="smooth-wrapper">
        <div id="smooth-content">

            <main class="fix">
                <!-- tp-payment-area-end -->
                <!-- tp-card-area-start -->
                <div class="tp-card-area tp-card-space pt-80 pb-80">
                    <div class="container">
                        <div class="row">
                            <div class="col-xl-6 col-lg-6 wow tpfadeLeft hide pt-80" data-wow-duration=".9s" data-wow-delay=".5s"
                                 style="visibility: visible; animation-duration: 0.9s; animation-delay: 0.5s; animation-name: tpfadeLeft;">
                                <div class="tp-card-thumb-wrapper p-relative">
                                    <div class="tp-card-main-img">
                                        <img src="/images/hero/joinbanner.jpg" alt="" class="w-100">
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-6 col-lg-6 wow tpfadeRight" data-wow-duration=".9s" data-wow-delay=".7s"
                                 style="visibility: visible; animation-duration: 0.9s; animation-delay: 0.7s; animation-name: tpfadeRight;">
                                <div class="pl-50">
                                    <a href="index.html" class="loginlogo"><img src="/images/logo/logo-black.png" alt=""></a>
                                    <h3 class="pb-15 logintitle">
                                        Bravo! on Embarking on a  journey To help create history and reduce carbon footprints.
                                    </h3>
                                    <p class="para">Your engagement to the community will help us to spread the mission better. In return we promise you better communication and environmentally sustainable products.  </p>
                                    <form class="row loginform">
                                        <div class="form-group">
                                            <input type="text" class="form-control" placeholder="First Name" id="firstName" name="firstName">
                                        </div>
                                        <div class="form-group">
                                            <input type="text" class="form-control" placeholder="Last Name" id="lastName" name="lastName">
                                        </div>
                                        <div class="form-group">
                                            <input type="email" class="form-control" placeholder="Email Address" id="Email" name="Email">
                                        </div>
                                        <div class="form-group">
                                            <input type="text" class="form-control" placeholder="Phone Number" id="Mobileno" name="Mobileno">
                                        </div>
                                        <div class="form-group">
                                            <input type="text" class="form-control" placeholder="Affiliate code" id="affiliatedCode" name="affiliatedCode" maxlength="6">
                                        </div>
                                        <div class="form-group" id="logo-uploadProfile">
                                            <label for="uploadLogo" class="custom-file-upload nameimage form-control" style="    color: #8b8b8b;">
                                                <span style="display: -webkit-box;">Add your profile picture</span>
                                            </label>
                                            <input type="file" class="upload-btn " id="uploadLogo" name="uploadLogo">

                                        </div>
                                    </form>
                                    <button class=" join tp-btn-blue-lg tp-btn-hover alt-color-black mt-10 button-class has-spinner" id="JoinMemberbtn">
                                        <span>Continue</span>
                                        <b style="top: 39.2091px; left: 20.39996px;"></b>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="pattern"><img src="/images/banner/border.png" style="transform: rotate(360deg);"></div>


            </main>
            <footer style="background: #bde8a3;">
                <div class="tp-footer__pl-pr">

                    <div class="tp-copyright__area pt-25 pb-25">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-xl-4 col-lg-6 col-md-6">
                                    <div class="tp-copyright__text tp-copyright__text-3 text-center">
                                        <span class="text-black">Copyright<a href="#"> Exeeder Xe Community</a> – 2023</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- tp-footer-area-end -->
            </footer>
        </div>
    </div>

    <div class="modal fade" id="getstarted" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
         aria-labelledby="getstartedLabel" aria-hidden="true">
        <div class="modal-dialog  modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="contact-form-area">
                        <div class="container">
                            <div class="row gx-0">
                                <div class="col-xl-12">
                                    <div class="contact-form-left">
                                        <div class="contact-form-section-box pb-0">
                                            <h4 class="tp-section-title pb-10">
                                                Confirmation
                                            </h4>
                                            <p>
                                                Please confirm once again that you would like to join Exeeder Xe community representing the collective voice of those dedicated to protecting our planet.
                                            </p>
                                            <form asp-action="VerifyOTP">
                                                <div class="col-12 optbox">
                                                    <input type="text" maxlength="5" oninput="this.value=this.value.replace(/[^0-9]/g,'');" class="form-control" id="OTPdigit" name="otp" value="00000">
                                                </div>
                                                @*<a id="resend" class=" pr-4" onclick="resendOTP()" style="cursor:pointer; margin: 88px"><small>Didn't receive the OTP? <b>Resend OTP</b></small></a>
                                                <a id="resend1" class="pr-4" style="margin: 157px;"><small>Sending otp...</small></a>*@
                                                <button class="verifybtn" id="btnVerify" style="cursor:pointer" >Confirm</button>
                                            </form>   
                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
   
    <!-- JS here -->
   
   @* <script>
        var myModal = document.getElementById('myModal')
        var myInput = document.getElementById('myInput')

        myModal.addEventListener('shown.bs.modal', function () {
            myInput.focus()
        })
    </script>*@



</body>

</html>

<script>
    $(document).ready(function () {
        $('#resend1').hide();
    });

    $("#logo-uploadProfile .custom-file-upload span").show();
    $("#logo-uploadProfile input").change(function () {
        $("#logo-uploadProfile .custom-file-upload span").show();
        $("#logo-uploadProfile .custom-file-upload span").text(this.files[0].name);
    });
</script>

<script>
    $(document).on("click", "#JoinMemberbtn", function () {
        var firstName = $("#firstName").val();
        var lastName =  $("#lastName").val();
        var email =     $('#Email').val();
        var mobileno =  $('#Mobileno').val();
        var uploadProfile = document.getElementById('uploadLogo');
        var affiliatedCode = $('#affiliatedCode').val();

       
        if (firstName == "") {
            $('#firstName').focus();
            document.getElementById("firstName").style.border = "1px solid red";
            return false;
        }

        if (lastName == "") {
            $('#lastName').focus();
            document.getElementById("lastName").style.border = "1px solid red";
            return false;
        }

        if (email == "") {
            $('#Email').focus();
            document.getElementById("Email").style.border = "1px solid red";
            return false;
        }

        if (mobileno == "") {
            $('#Mobileno').focus();
            document.getElementById("Mobileno").style.border = "1px solid red";
            return false;
        }

        if (uploadProfile == "") {
            $('#uploadLogo').focus();
            document.getElementById("uploadLogo").style.border = "1px solid red";
            return false;
        }

       
        var formdata = new FormData();

        formdata.append('FirstName', firstName);
        formdata.append('LastName', lastName);
        formdata.append('Email', email);
        formdata.append('Mobile', mobileno);
        formdata.append('MediaFile', uploadProfile.files[0]);
        formdata.append('AffiliateCode', affiliatedCode);

        $.ajax({
            url: '/Join/JoinMember',
            type: 'POST',
            cache: false,
            contentType: false,
            processData: false,
            data: formdata,
            dataType: 'json',
            success: function (response) {
                    $('#getstarted').modal('show');
                    $('#OTPdigit').hide();
            },
            error: function (response) {
            }
        });

      
    });

    //$("#btnVerify").click(function () {

    //    var otpdigit = $("#OTPdigit").val();
    //    var firstName = $("#firstName").val();
    //    var lastName = $("#lastName").val();
    //    var email = $('#Email').val();
    //    var mobileno = $('#Mobileno').val();
    //    var uploadProfile = document.getElementById('uploadLogo');

    //    var formdata = new FormData();

    //    formdata.append('otp', otpdigit);
    //    formdata.append('FirstName', firstName);
    //    formdata.append('LastName', lastName);
    //    formdata.append('Email', email);
    //    formdata.append('Mobile', mobileno);
    //    formdata.append('MediaFile', uploadProfile.files[0]);

        
        
        
    //    $.ajax({
    //        url: '/Join/VerifyOTP',
    //        type: 'POST',
    //        cache: false,
    //        contentType: false,
    //        processData: false,
    //        data: formdata,
    //        dataType: 'json',
    //        success: function (response) {
    //            alert('1');
    //            alert(response.data)
    //            if (response.success) {
    //                // Redirect to the specified URL
    //                window.location.href = response.url;
    //            } else {
    //                alert(response.data)
    //                // Handle other scenarios if needed
    //                //window.location.href = response.url;
    //                console.log('Operation failed');
    //            }
    //            //var status = result.success;
    //            //if (response.success && response.url) {
    //            //    window.location = result.url;
    //            //}
    //            //else {
    //            //    window.location = window.location.href ;
    //            //}
    //        },
    //        error: function (response) {
    //            alert(response.data)
    //            console.log(response.data);
    //            
    //        }
    //    });
    //})


    function resendOTP() {
        $('#resend').hide();
        $('#resend1').show();
        var otp = $('#OTPdigit').val();

        $.ajax({
            url: '/Join/ResendOTP',
            type: 'POST',
            data: {
                otp: otp
            },
            dataType: 'json',
            success: function (response) {
                $('#resend').show();
                $('#resend1').hide();
                $('#getstarted').modal('show');
                $('#OTPdigit').hide();
            },
            error: function (response) {
                $('#resend').show();
                $('#resend1').hide();
            }
        });

    }

</script>
